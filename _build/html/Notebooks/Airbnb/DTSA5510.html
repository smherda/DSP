

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DTSA 5510 Unsupervised Algorithms Final Project &#8212; My Data Science Portfolio</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Notebooks/Airbnb/DTSA5510';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="NLP Disaster Tweets Kaggle Mini-Project" href="../DisasterTweets/DisasterTweets.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome to My Portfolio
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Shakespeare/DTSA5511.html">DTSA 5511 Deep Learning Final Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DisasterTweets/DisasterTweets.html">NLP Disaster Tweets Kaggle Mini-Project</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">DTSA 5510 Unsupervised Algorithms Final Project</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/smherda/DSP" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/smherda/DSP/issues/new?title=Issue%20on%20page%20%2FNotebooks/Airbnb/DTSA5510.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/Notebooks/Airbnb/DTSA5510.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>DTSA 5510 Unsupervised Algorithms Final Project</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unsupervised-algorithms-in-machine-learning">Unsupervised Algorithms in Machine Learning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#topic">Topic</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data">Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-packages">Install Packages</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-libraries">Import Libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-files-from-csv">Read Files from CSV</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#space-and-size">Space and Size</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluate-the-data-types-and-column-names">Evaluate the data types and column names.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing">Data Preprocessing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#removal-of-features">Removal of Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#removing-null-values">Removing Null Values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#remove-duplicates">Remove Duplicates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Space and Size</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploratory-data-analysis-eda">Exploratory Data Analysis (EDA)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#purpose">Purpose</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#histograms-and-box-plots">Histograms and Box Plots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gis-visualization">GIS Visualization</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#difficulties">Difficulties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-discussion-and-findings">Summary, Discussion, and Findings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#results-and-analysis">Results and Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#approach">Approach</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-pruning">EDA Pruning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Histograms and Box Plots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#drop-columns">Drop Columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unsupervised-model-pca">Unsupervised Model: PCA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#results">Results</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-complexity">Time Complexity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unsupervised-model-k-means-clustering">Unsupervised Model: K-Means Clustering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Results</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#k-means-clustering">K Means Clustering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#supervised-method-linear-model">Supervised Method: Linear Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Results</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Time Complexity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optimization-methods">Optimization Methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pipeline-design">Pipeline Design</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion-and-conclusion">Discussion and Conclusion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-learned">Lessons Learned</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mistakes">Mistakes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#future-improvement-opportunities">Future Improvement Opportunities</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-citations">APA Citations</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="tex2jax_ignore mathjax_ignore section" id="dtsa-5510-unsupervised-algorithms-final-project">
<h1>DTSA 5510 Unsupervised Algorithms Final Project<a class="headerlink" href="#dtsa-5510-unsupervised-algorithms-final-project" title="Permalink to this headline">#</a></h1>
<div class="section" id="unsupervised-algorithms-in-machine-learning">
<h2>Unsupervised Algorithms in Machine Learning<a class="headerlink" href="#unsupervised-algorithms-in-machine-learning" title="Permalink to this headline">#</a></h2>
</div>
<div class="section" id="topic">
<h2>Topic<a class="headerlink" href="#topic" title="Permalink to this headline">#</a></h2>
<p>Living in New York has infamously been associated with a high cost of living. According to Investopedia, Manhattan, New York ranks as the #1 most expensive city within the United States. [1] The site states that groceries to transportation to housing can rack up a cost and in the five boroughs of New York is almost double the average cost of a home compared to the national average (<span class="math notranslate nohighlight">\(\$\)</span>776, 946 to <span class="math notranslate nohighlight">\(\$\)</span>355, 852). [1] Thus, with those that have their eyes set on going to the “Empire State”, living outside of the city and going to an Airbnb on the weekends would be a more financially friendly option.
The goal of this report is to use PCA, clustering, and linear regression to evaluate scrapped AirBnB data produced from Kaggle [2]. The PCA will see how much the model can account for variance, the clustering step will see if there are multiple subsections of the data the evaluator needs to be aware of, and the linear regression model will be used taking features and outputting correlations to a desired predictor. This report wil also compare the two unsupervised models to the supervised one.</p>
</div>
<div class="section" id="data">
<h2>Data<a class="headerlink" href="#data" title="Permalink to this headline">#</a></h2>
<div class="section" id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h3>
<p>The following paper analyzes a publically available dataset from Kaggle that is a collection of Airbnb statistics during the year of 2019. [2] The file is labeled, “AB_NYC_2019.csv” and the title of this work on the website is “New York City Airbnb Open Data”. [2] More information such as the size and data types are explained further below.</p>
</div>
</div>
<div class="section" id="install-packages">
<h2>Install Packages<a class="headerlink" href="#install-packages" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>folium
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: folium in c:\users\staci\anaconda3\lib\site-packages (0.14.0)
Requirement already satisfied: branca&gt;=0.6.0 in c:\users\staci\anaconda3\lib\site-packages (from folium) (0.6.0)
Requirement already satisfied: jinja2&gt;=2.9 in c:\users\staci\anaconda3\lib\site-packages (from folium) (2.11.3)
Requirement already satisfied: numpy in c:\users\staci\anaconda3\lib\site-packages (from folium) (1.21.6)
Requirement already satisfied: requests in c:\users\staci\anaconda3\lib\site-packages (from folium) (2.31.0)
Requirement already satisfied: MarkupSafe&gt;=0.23 in c:\users\staci\anaconda3\lib\site-packages (from jinja2&gt;=2.9-&gt;folium) (1.1.1)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in c:\users\staci\anaconda3\lib\site-packages (from requests-&gt;folium) (3.2.0)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in c:\users\staci\anaconda3\lib\site-packages (from requests-&gt;folium) (3.4)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in c:\users\staci\anaconda3\lib\site-packages (from requests-&gt;folium) (1.26.15)
Requirement already satisfied: certifi&gt;=2017.4.17 in c:\users\staci\anaconda3\lib\site-packages (from requests-&gt;folium) (2023.5.7)
</pre></div>
</div>
</div>
</div>
<div class="section" id="import-libraries">
<h3>Import Libraries<a class="headerlink" href="#import-libraries" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">folium</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span><span class="p">,</span> <span class="n">OneHotEncoder</span>
<span class="kn">from</span> <span class="nn">sklearn.compose</span> <span class="kn">import</span> <span class="n">ColumnTransformer</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">r2_score</span>
<span class="kn">import</span> <span class="nn">time</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="read-files-from-csv">
<h3>Read Files from CSV<a class="headerlink" href="#read-files-from-csv" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_csv</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./AB_NYC_2019.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="space-and-size">
<h3>Space and Size<a class="headerlink" href="#space-and-size" title="Permalink to this headline">#</a></h3>
<p>The space and size for the data frame before preprocesesing is shown below. Output is the memory, column size, and row size.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function for Checking Memory and Size</span>
<span class="k">def</span> <span class="nf">MemCheck</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="c1"># Get Data Frame Space</span>
    <span class="n">df_mem</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">memory_usage</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Memory:&quot;</span><span class="p">,</span> <span class="n">df_mem</span><span class="p">,</span> <span class="s2">&quot;bytes&quot;</span><span class="p">)</span>

    <span class="c1"># Get Row and Column Count</span>
    <span class="n">num_row</span><span class="p">,</span> <span class="n">num_col</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Rows:&quot;</span><span class="p">,</span> <span class="n">num_row</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Columns:&quot;</span><span class="p">,</span> <span class="n">num_col</span><span class="p">)</span>
    
<span class="n">MemCheck</span><span class="p">(</span><span class="n">df_csv</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Memory: 6258688 bytes
Rows: 48895
Columns: 16
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="evaluate-the-data-types-and-column-names">
<h3>Evaluate the data types and column names.<a class="headerlink" href="#evaluate-the-data-types-and-column-names" title="Permalink to this headline">#</a></h3>
<p>Below shows the column names and data types associated with each.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save to Separate Data Frame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df_csv</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="n">col</span> <span class="o">+</span> <span class="s2">&quot;&#39;: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;id&#39;: &lt;class &#39;numpy.dtype[int64]&#39;&gt;
&#39;name&#39;: &lt;class &#39;numpy.dtype[object_]&#39;&gt;
&#39;host_id&#39;: &lt;class &#39;numpy.dtype[int64]&#39;&gt;
&#39;host_name&#39;: &lt;class &#39;numpy.dtype[object_]&#39;&gt;
&#39;neighbourhood_group&#39;: &lt;class &#39;numpy.dtype[object_]&#39;&gt;
&#39;neighbourhood&#39;: &lt;class &#39;numpy.dtype[object_]&#39;&gt;
&#39;latitude&#39;: &lt;class &#39;numpy.dtype[float64]&#39;&gt;
&#39;longitude&#39;: &lt;class &#39;numpy.dtype[float64]&#39;&gt;
&#39;room_type&#39;: &lt;class &#39;numpy.dtype[object_]&#39;&gt;
&#39;price&#39;: &lt;class &#39;numpy.dtype[int64]&#39;&gt;
&#39;minimum_nights&#39;: &lt;class &#39;numpy.dtype[int64]&#39;&gt;
&#39;number_of_reviews&#39;: &lt;class &#39;numpy.dtype[int64]&#39;&gt;
&#39;last_review&#39;: &lt;class &#39;numpy.dtype[object_]&#39;&gt;
&#39;reviews_per_month&#39;: &lt;class &#39;numpy.dtype[float64]&#39;&gt;
&#39;calculated_host_listings_count&#39;: &lt;class &#39;numpy.dtype[int64]&#39;&gt;
&#39;availability_365&#39;: &lt;class &#39;numpy.dtype[int64]&#39;&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>host_id</th>
      <th>host_name</th>
      <th>neighbourhood_group</th>
      <th>neighbourhood</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>room_type</th>
      <th>price</th>
      <th>minimum_nights</th>
      <th>number_of_reviews</th>
      <th>last_review</th>
      <th>reviews_per_month</th>
      <th>calculated_host_listings_count</th>
      <th>availability_365</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2539</td>
      <td>Clean &amp; quiet apt home by the park</td>
      <td>2787</td>
      <td>John</td>
      <td>Brooklyn</td>
      <td>Kensington</td>
      <td>40.64749</td>
      <td>-73.97237</td>
      <td>Private room</td>
      <td>149</td>
      <td>1</td>
      <td>9</td>
      <td>2018-10-19</td>
      <td>0.21</td>
      <td>6</td>
      <td>365</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2595</td>
      <td>Skylit Midtown Castle</td>
      <td>2845</td>
      <td>Jennifer</td>
      <td>Manhattan</td>
      <td>Midtown</td>
      <td>40.75362</td>
      <td>-73.98377</td>
      <td>Entire home/apt</td>
      <td>225</td>
      <td>1</td>
      <td>45</td>
      <td>2019-05-21</td>
      <td>0.38</td>
      <td>2</td>
      <td>355</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3647</td>
      <td>THE VILLAGE OF HARLEM....NEW YORK !</td>
      <td>4632</td>
      <td>Elisabeth</td>
      <td>Manhattan</td>
      <td>Harlem</td>
      <td>40.80902</td>
      <td>-73.94190</td>
      <td>Private room</td>
      <td>150</td>
      <td>3</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>365</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3831</td>
      <td>Cozy Entire Floor of Brownstone</td>
      <td>4869</td>
      <td>LisaRoxanne</td>
      <td>Brooklyn</td>
      <td>Clinton Hill</td>
      <td>40.68514</td>
      <td>-73.95976</td>
      <td>Entire home/apt</td>
      <td>89</td>
      <td>1</td>
      <td>270</td>
      <td>2019-07-05</td>
      <td>4.64</td>
      <td>1</td>
      <td>194</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5022</td>
      <td>Entire Apt: Spacious Studio/Loft by central park</td>
      <td>7192</td>
      <td>Laura</td>
      <td>Manhattan</td>
      <td>East Harlem</td>
      <td>40.79851</td>
      <td>-73.94399</td>
      <td>Entire home/apt</td>
      <td>80</td>
      <td>10</td>
      <td>9</td>
      <td>2018-11-19</td>
      <td>0.10</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="data-preprocessing">
<h2>Data Preprocessing<a class="headerlink" href="#data-preprocessing" title="Permalink to this headline">#</a></h2>
<div class="section" id="removal-of-features">
<h3>Removal of Features<a class="headerlink" href="#removal-of-features" title="Permalink to this headline">#</a></h3>
<p>For this analysis, all features other than ‘name’, ‘neighbourhood_group’, ‘neighbourhood’, ‘latitude’, ‘longitude’, ‘room_type’, ‘price’, ‘minimum_nights’, ‘number_of_reviews’, ‘calculated_host_listings_count’, ‘availability_365’ will be removed. Other columns do not add any used information to the data frame and will be potentially inconvenient during analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># State Columns to Keep</span>
<span class="n">col</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;neighbourhood_group&#39;</span><span class="p">,</span> <span class="s1">&#39;neighbourhood&#39;</span><span class="p">,</span> <span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="s1">&#39;room_type&#39;</span><span class="p">,</span> \
       <span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;minimum_nights&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_reviews&#39;</span><span class="p">,</span> <span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">,</span> <span class="s1">&#39;availability_365&#39;</span><span class="p">]</span>

<span class="c1"># Define Features</span>
<span class="n">num_feat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;minimum_nights&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_reviews&#39;</span><span class="p">,</span> <span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">,</span> <span class="s1">&#39;availability_365&#39;</span><span class="p">]</span>
<span class="n">cat_feat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;neighbourhood&#39;</span><span class="p">,</span> <span class="s1">&#39;room_type&#39;</span><span class="p">]</span>

<span class="c1"># Save into New Data Frame</span>
<span class="n">df_rem</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="c1"># Review</span>
<span class="n">df_rem</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>neighbourhood_group</th>
      <th>neighbourhood</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>room_type</th>
      <th>price</th>
      <th>minimum_nights</th>
      <th>number_of_reviews</th>
      <th>calculated_host_listings_count</th>
      <th>availability_365</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Clean &amp; quiet apt home by the park</td>
      <td>Brooklyn</td>
      <td>Kensington</td>
      <td>40.64749</td>
      <td>-73.97237</td>
      <td>Private room</td>
      <td>149</td>
      <td>1</td>
      <td>9</td>
      <td>6</td>
      <td>365</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Skylit Midtown Castle</td>
      <td>Manhattan</td>
      <td>Midtown</td>
      <td>40.75362</td>
      <td>-73.98377</td>
      <td>Entire home/apt</td>
      <td>225</td>
      <td>1</td>
      <td>45</td>
      <td>2</td>
      <td>355</td>
    </tr>
    <tr>
      <th>2</th>
      <td>THE VILLAGE OF HARLEM....NEW YORK !</td>
      <td>Manhattan</td>
      <td>Harlem</td>
      <td>40.80902</td>
      <td>-73.94190</td>
      <td>Private room</td>
      <td>150</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>365</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Cozy Entire Floor of Brownstone</td>
      <td>Brooklyn</td>
      <td>Clinton Hill</td>
      <td>40.68514</td>
      <td>-73.95976</td>
      <td>Entire home/apt</td>
      <td>89</td>
      <td>1</td>
      <td>270</td>
      <td>1</td>
      <td>194</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Entire Apt: Spacious Studio/Loft by central park</td>
      <td>Manhattan</td>
      <td>East Harlem</td>
      <td>40.79851</td>
      <td>-73.94399</td>
      <td>Entire home/apt</td>
      <td>80</td>
      <td>10</td>
      <td>9</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="removing-null-values">
<h3>Removing Null Values<a class="headerlink" href="#removing-null-values" title="Permalink to this headline">#</a></h3>
<p>The code is shown below removes columns with NA values. Since the amount of rows and thus data which is entered is high, this can be done since the NA rows are assumed to be negligable with such as large data set.|</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_na</span> <span class="o">=</span> <span class="n">df_rem</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="remove-duplicates">
<h3>Remove Duplicates<a class="headerlink" href="#remove-duplicates" title="Permalink to this headline">#</a></h3>
<p>If an AirBnB has been entered multiple times, then it will be removed from the data frame with the following code. This is similar to the null values in that there is a large amount of data that can be used for processing and elmiinating the duplicates won’t strongly affect the outcome.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_unique</span> <span class="o">=</span> <span class="n">df_na</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id1">
<h3>Space and Size<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<p>The space and size for the data frame before and after preprocesesing is shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MemCheck</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="n">MemCheck</span><span class="p">(</span><span class="n">df_unique</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Memory: 6258688 bytes
Rows: 48895
Columns: 16

Memory: 4692384 bytes
Rows: 48879
Columns: 11
</pre></div>
</div>
</div>
</div>
<p>After modifications, the size goes from 6258688 bytes to 4302760 bytes and is reduced to 69% of its original size.</p>
</div>
</div>
<div class="section" id="exploratory-data-analysis-eda">
<h2>Exploratory Data Analysis (EDA)<a class="headerlink" href="#exploratory-data-analysis-eda" title="Permalink to this headline">#</a></h2>
<div class="section" id="purpose">
<h3>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">#</a></h3>
<p>The following gives an insight into the data and potential models that should be built.</p>
</div>
<div class="section" id="histograms-and-box-plots">
<h3>Histograms and Box Plots<a class="headerlink" href="#histograms-and-box-plots" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">histBox</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
    <span class="c1"># Generate Histogram</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

    <span class="c1"># Add to Subplot</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Generate Box Plot</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Box Plot of </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Remove Box Plot Axis Label</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>

    <span class="c1"># Show Figure</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Get the histogram values</span>
    <span class="n">hist_val</span><span class="p">,</span> <span class="n">hist_edg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Histogram values:&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">hist_val</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Histogram bin edges:&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">hist_edg</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>

    <span class="c1"># Print Values</span>
    <span class="n">box_val</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;25%&#39;</span><span class="p">,</span> <span class="s1">&#39;50%&#39;</span><span class="p">,</span> <span class="s1">&#39;75%&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">]]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Box values: &#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">box_val</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>

<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span>
<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;minimum_nights&#39;</span><span class="p">)</span>
<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;number_of_reviews&#39;</span><span class="p">)</span>
<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">)</span>
<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;availability_365&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/55e20b74ef11d4edbab290992e587cc1ce3b0fa73f4ca5a7255e69c6974f449a.png" src="../../_images/55e20b74ef11d4edbab290992e587cc1ce3b0fa73f4ca5a7255e69c6974f449a.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[48581   188    57    18     9     8     7     3     2     6]

Histogram bin edges:
[    0.  1000.  2000.  3000.  4000.  5000.  6000.  7000.  8000.  9000.
 10000.]

Box values: 
min        0.0
25%       69.0
50%      106.0
75%      175.0
max    10000.0
Name: price, dtype: float64
</pre></div>
</div>
<img alt="../../_images/77dece21fd26031a5a9661c861eab60c323a18f2945d863602c60f5a982a5bca.png" src="../../_images/77dece21fd26031a5a9661c861eab60c323a18f2945d863602c60f5a982a5bca.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[48743    76    49     7     0     0     0     3     0     1]

Histogram bin edges:
[1.0000e+00 1.2590e+02 2.5080e+02 3.7570e+02 5.0060e+02 6.2550e+02
 7.5040e+02 8.7530e+02 1.0002e+03 1.1251e+03 1.2500e+03]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Box values: 
min       1.0
25%       1.0
50%       3.0
75%       5.0
max    1250.0
Name: minimum_nights, dtype: float64
</pre></div>
</div>
<img alt="../../_images/48d02ddee20d85babd76ffae370f7ec5b6d33f6adc0dbe7f820a67a306fbc9a4.png" src="../../_images/48d02ddee20d85babd76ffae370f7ec5b6d33f6adc0dbe7f820a67a306fbc9a4.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[43282  3571  1266   499   143    67    31    12     3     5]

Histogram bin edges:
[  0.   62.9 125.8 188.7 251.6 314.5 377.4 440.3 503.2 566.1 629. ]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Box values: 
min      0.0
25%      1.0
50%      5.0
75%     24.0
max    629.0
Name: number_of_reviews, dtype: float64
</pre></div>
</div>
<img alt="../../_images/1cec0cc90f5981fb88793da43ac91978d4f558faa217b363c864ea15e6eecb55.png" src="../../_images/1cec0cc90f5981fb88793da43ac91978d4f558faa217b363c864ea15e6eecb55.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[47175   551   370   224     0     0     0   232     0   327]

Histogram bin edges:
[  1.   33.6  66.2  98.8 131.4 164.  196.6 229.2 261.8 294.4 327. ]

Box values: 
min      1.0
25%      1.0
50%      1.0
75%      2.0
max    327.0
Name: calculated_host_listings_count, dtype: float64
</pre></div>
</div>
<img alt="../../_images/703746c999a592c391ba12d3b348421ace8460af1808ea7699a21bf5a1b19ed8.png" src="../../_images/703746c999a592c391ba12d3b348421ace8460af1808ea7699a21bf5a1b19ed8.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[23584  3304  3245  1707  2733  1684  1920  2090  2787  5825]

Histogram bin edges:
[  0.   36.5  73.  109.5 146.  182.5 219.  255.5 292.  328.5 365. ]

Box values: 
min      0.0
25%      0.0
50%     45.0
75%    227.0
max    365.0
Name: availability_365, dtype: float64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="gis-visualization">
<h3>GIS Visualization<a class="headerlink" href="#gis-visualization" title="Permalink to this headline">#</a></h3>
<p>To further analyze the neighborhoods, a map was created to show the locations of the AirBnBs. Since there are 48895 rows and subsequent AirBnBs, random values were chosen from the</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Group By Neighborhood</span>
<span class="n">group</span> <span class="o">=</span> <span class="n">df_unique</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;neighbourhood_group&#39;</span><span class="p">)</span>
<span class="n">df_samp</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Now a map with these random values can be used to demonstrate the locations of the AirBnBs within New York.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a Folium Map</span>
<span class="nb">map</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mf">40.713</span><span class="p">,</span> <span class="o">-</span><span class="mf">74.006</span><span class="p">],</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Add Markers</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df_samp</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span>
        <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]],</span>
        <span class="n">popup</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="nb">map</span><span class="p">)</span>

<span class="c1"># Display</span>
<span class="nb">map</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_fc10810dd9eaea05d54e203417861955 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_fc10810dd9eaea05d54e203417861955&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_fc10810dd9eaea05d54e203417861955 = L.map(
                &quot;map_fc10810dd9eaea05d54e203417861955&quot;,
                {
                    center: [40.713, -74.006],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_0484e76d92e22d4487b5e72e586bbeff = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
            var marker_646278e725c90e1335b120d4de1bfed6 = L.marker(
                [40.87256, -73.89978],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_c43b4b835559f4244e36d93fa3b7a1ad = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5e929fe26e597aaea61fd3786312f5cc = $(`&lt;div id=&quot;html_5e929fe26e597aaea61fd3786312f5cc&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;1 bedroom apt 35min away from the city.&lt;/div&gt;`)[0];
                popup_c43b4b835559f4244e36d93fa3b7a1ad.setContent(html_5e929fe26e597aaea61fd3786312f5cc);
            
        

        marker_646278e725c90e1335b120d4de1bfed6.bindPopup(popup_c43b4b835559f4244e36d93fa3b7a1ad)
        ;

        
    
    
            var marker_6fa22ac274e843cac9717b570c88e73a = L.marker(
                [40.85152, -73.86121],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_2fc4cae4e17b1920420ea5fb12fb5c1e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_61339a5f6e72e6c656181b6eace29486 = $(`&lt;div id=&quot;html_61339a5f6e72e6c656181b6eace29486&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Private room at Stella&#x27;s place&lt;/div&gt;`)[0];
                popup_2fc4cae4e17b1920420ea5fb12fb5c1e.setContent(html_61339a5f6e72e6c656181b6eace29486);
            
        

        marker_6fa22ac274e843cac9717b570c88e73a.bindPopup(popup_2fc4cae4e17b1920420ea5fb12fb5c1e)
        ;

        
    
    
            var marker_b8e3542466281bf86a37bf5c480d4e16 = L.marker(
                [40.86313, -73.90183],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_c375927f791d4418754d83f3d0ef0e09 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1fc7bb68d27782aea009c0dbb6b76b15 = $(`&lt;div id=&quot;html_1fc7bb68d27782aea009c0dbb6b76b15&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Feel free and at home In  my cozy apartment.&lt;/div&gt;`)[0];
                popup_c375927f791d4418754d83f3d0ef0e09.setContent(html_1fc7bb68d27782aea009c0dbb6b76b15);
            
        

        marker_b8e3542466281bf86a37bf5c480d4e16.bindPopup(popup_c375927f791d4418754d83f3d0ef0e09)
        ;

        
    
    
            var marker_1806b2a4f82b45f3138d7d236f0b56b7 = L.marker(
                [40.82122, -73.92773],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_bd5e4ac993df29cfa6d4c8bc593ab152 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_82b932527dbce023dd515ebd3649f182 = $(`&lt;div id=&quot;html_82b932527dbce023dd515ebd3649f182&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Modern Vibrant Large Cozy Bedroom* 正面能量&lt;/div&gt;`)[0];
                popup_bd5e4ac993df29cfa6d4c8bc593ab152.setContent(html_82b932527dbce023dd515ebd3649f182);
            
        

        marker_1806b2a4f82b45f3138d7d236f0b56b7.bindPopup(popup_bd5e4ac993df29cfa6d4c8bc593ab152)
        ;

        
    
    
            var marker_54579ed8b4ff7446226605f39e3b02af = L.marker(
                [40.83758, -73.85804],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_3eb0446cf0c373ceacf6bff23305063a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b25f8c1e1912da2f3ff191b3db399e1b = $(`&lt;div id=&quot;html_b25f8c1e1912da2f3ff191b3db399e1b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Clean and comfortable private room in NYC&lt;/div&gt;`)[0];
                popup_3eb0446cf0c373ceacf6bff23305063a.setContent(html_b25f8c1e1912da2f3ff191b3db399e1b);
            
        

        marker_54579ed8b4ff7446226605f39e3b02af.bindPopup(popup_3eb0446cf0c373ceacf6bff23305063a)
        ;

        
    
    
            var marker_ead4ccf5b82268d145f9780113916db1 = L.marker(
                [40.8506, -73.90231],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_b799c4880a814c8831f1c847a560dded = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9158d5e58610579db3f2bb72b5f69e1d = $(`&lt;div id=&quot;html_9158d5e58610579db3f2bb72b5f69e1d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Bronx Home - 30 mins from Midtown!&lt;/div&gt;`)[0];
                popup_b799c4880a814c8831f1c847a560dded.setContent(html_9158d5e58610579db3f2bb72b5f69e1d);
            
        

        marker_ead4ccf5b82268d145f9780113916db1.bindPopup(popup_b799c4880a814c8831f1c847a560dded)
        ;

        
    
    
            var marker_797430bc2adf91a658c2c16eec867405 = L.marker(
                [40.88249, -73.86274],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_e778bf967852d577c6a0194bd21a6749 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9ea922c66f33037de9c3718c7df91982 = $(`&lt;div id=&quot;html_9ea922c66f33037de9c3718c7df91982&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;luxury, neat, minute fom trains&lt;/div&gt;`)[0];
                popup_e778bf967852d577c6a0194bd21a6749.setContent(html_9ea922c66f33037de9c3718c7df91982);
            
        

        marker_797430bc2adf91a658c2c16eec867405.bindPopup(popup_e778bf967852d577c6a0194bd21a6749)
        ;

        
    
    
            var marker_e9e4063cbdd2aa3e57751ed2c9ab5da6 = L.marker(
                [40.86578, -73.86534],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_0faa38304becc6131cff6936b3782954 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_daca7d23e4a1f2296fbf0f6748db1d1a = $(`&lt;div id=&quot;html_daca7d23e4a1f2296fbf0f6748db1d1a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Spacious 2 level home for Groups sleeps upto 12&lt;/div&gt;`)[0];
                popup_0faa38304becc6131cff6936b3782954.setContent(html_daca7d23e4a1f2296fbf0f6748db1d1a);
            
        

        marker_e9e4063cbdd2aa3e57751ed2c9ab5da6.bindPopup(popup_0faa38304becc6131cff6936b3782954)
        ;

        
    
    
            var marker_b5ff3d4700a2c73ad3c4208e4dd6bcc8 = L.marker(
                [40.82822, -73.92439],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_e7382ffb4bd1c023dd463ed2da935cf5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9bc89d09f7d1077f2c5be7b2fa1feb44 = $(`&lt;div id=&quot;html_9bc89d09f7d1077f2c5be7b2fa1feb44&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Yankee Nest&lt;/div&gt;`)[0];
                popup_e7382ffb4bd1c023dd463ed2da935cf5.setContent(html_9bc89d09f7d1077f2c5be7b2fa1feb44);
            
        

        marker_b5ff3d4700a2c73ad3c4208e4dd6bcc8.bindPopup(popup_e7382ffb4bd1c023dd463ed2da935cf5)
        ;

        
    
    
            var marker_c83de6738034b84ab0b24b69a77241ab = L.marker(
                [40.80858, -73.93164],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_f338423a80cccb2893a4e81d6260fb74 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7c167a73880e30d32f7d60205fadb928 = $(`&lt;div id=&quot;html_7c167a73880e30d32f7d60205fadb928&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Mott Haven Dorm FF&lt;/div&gt;`)[0];
                popup_f338423a80cccb2893a4e81d6260fb74.setContent(html_7c167a73880e30d32f7d60205fadb928);
            
        

        marker_c83de6738034b84ab0b24b69a77241ab.bindPopup(popup_f338423a80cccb2893a4e81d6260fb74)
        ;

        
    
    
            var marker_d54985eb88bd6aef1abb24c2b21ac377 = L.marker(
                [40.8329, -73.89608],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_8825af1e117f3ca61a2277389462d31d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_375e5e1886f10233ff516842a53fd97e = $(`&lt;div id=&quot;html_375e5e1886f10233ff516842a53fd97e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Relaxing Room in a Spacious Artist Apartment&lt;/div&gt;`)[0];
                popup_8825af1e117f3ca61a2277389462d31d.setContent(html_375e5e1886f10233ff516842a53fd97e);
            
        

        marker_d54985eb88bd6aef1abb24c2b21ac377.bindPopup(popup_8825af1e117f3ca61a2277389462d31d)
        ;

        
    
    
            var marker_44add4d420a2f849a7d8e479c0d64ce8 = L.marker(
                [40.82565, -73.91095],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_3226a397e736a5b80c9d226b352f2378 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_153befea41464f067c6958575fc7740e = $(`&lt;div id=&quot;html_153befea41464f067c6958575fc7740e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;X Light&lt;/div&gt;`)[0];
                popup_3226a397e736a5b80c9d226b352f2378.setContent(html_153befea41464f067c6958575fc7740e);
            
        

        marker_44add4d420a2f849a7d8e479c0d64ce8.bindPopup(popup_3226a397e736a5b80c9d226b352f2378)
        ;

        
    
    
            var marker_5e59071b8026bf3b90e719337fa8bffa = L.marker(
                [40.87498, -73.85644],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_065afbb6c4b6a51b1c08346054126ff7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_88cf0434d27c76387dc1cb0c3485e4d0 = $(`&lt;div id=&quot;html_88cf0434d27c76387dc1cb0c3485e4d0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Clean and quite&lt;/div&gt;`)[0];
                popup_065afbb6c4b6a51b1c08346054126ff7.setContent(html_88cf0434d27c76387dc1cb0c3485e4d0);
            
        

        marker_5e59071b8026bf3b90e719337fa8bffa.bindPopup(popup_065afbb6c4b6a51b1c08346054126ff7)
        ;

        
    
    
            var marker_00784336240d790b967306696275f783 = L.marker(
                [40.83516, -73.86024],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_9fab127a9e10f821578794a5b8e4040d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_27d83ce140858bb4c2f7bba380af5594 = $(`&lt;div id=&quot;html_27d83ce140858bb4c2f7bba380af5594&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Beautiful condo in quiet Parkchester, close to NYC&lt;/div&gt;`)[0];
                popup_9fab127a9e10f821578794a5b8e4040d.setContent(html_27d83ce140858bb4c2f7bba380af5594);
            
        

        marker_00784336240d790b967306696275f783.bindPopup(popup_9fab127a9e10f821578794a5b8e4040d)
        ;

        
    
    
            var marker_0e6a99432cb001d45a541fa11ddbf32a = L.marker(
                [40.86014, -73.86301],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_1c5621929e7e9e51f9d0963978956257 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_aba705f82f215b0999bfaa7082c4ebbe = $(`&lt;div id=&quot;html_aba705f82f215b0999bfaa7082c4ebbe&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;== Modern, A/C, Easy Check-in / Book Instantly ==&lt;/div&gt;`)[0];
                popup_1c5621929e7e9e51f9d0963978956257.setContent(html_aba705f82f215b0999bfaa7082c4ebbe);
            
        

        marker_0e6a99432cb001d45a541fa11ddbf32a.bindPopup(popup_1c5621929e7e9e51f9d0963978956257)
        ;

        
    
    
            var marker_f523c44e0ab40d0b2b3ba20533083176 = L.marker(
                [40.68815, -73.91032],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_f64f58d93e094310820ffa64e2a6c96a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_dd28a31c84cb0eb6b00736adacfb90f0 = $(`&lt;div id=&quot;html_dd28a31c84cb0eb6b00736adacfb90f0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Warm cozy green house&lt;/div&gt;`)[0];
                popup_f64f58d93e094310820ffa64e2a6c96a.setContent(html_dd28a31c84cb0eb6b00736adacfb90f0);
            
        

        marker_f523c44e0ab40d0b2b3ba20533083176.bindPopup(popup_f64f58d93e094310820ffa64e2a6c96a)
        ;

        
    
    
            var marker_cecd022d390d1fb4970bedb0435b8372 = L.marker(
                [40.70602, -73.93821],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_1702d0cb006083785fad0134b816df56 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0d78ed2268c061bb1d2398a3d76099ba = $(`&lt;div id=&quot;html_0d78ed2268c061bb1d2398a3d76099ba&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Spacious Room in the heart of Bushwick&lt;/div&gt;`)[0];
                popup_1702d0cb006083785fad0134b816df56.setContent(html_0d78ed2268c061bb1d2398a3d76099ba);
            
        

        marker_cecd022d390d1fb4970bedb0435b8372.bindPopup(popup_1702d0cb006083785fad0134b816df56)
        ;

        
    
    
            var marker_0603fe7d8622a303b0a1f33c96bd1359 = L.marker(
                [40.73018, -73.95464],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_586146b2dea64c6025fc104524363d28 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fa27cbf8eb0ccfb6cf2f78857a3c54a2 = $(`&lt;div id=&quot;html_fa27cbf8eb0ccfb6cf2f78857a3c54a2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cozy, quiet apartment in trendy Greenpoint spot!&lt;/div&gt;`)[0];
                popup_586146b2dea64c6025fc104524363d28.setContent(html_fa27cbf8eb0ccfb6cf2f78857a3c54a2);
            
        

        marker_0603fe7d8622a303b0a1f33c96bd1359.bindPopup(popup_586146b2dea64c6025fc104524363d28)
        ;

        
    
    
            var marker_c9be9a9bbbe7fa036f9cb8a8deb21d29 = L.marker(
                [40.6851, -73.94793],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_23464cf3b9a04e73d54cba590c6043d9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_51b15abd37ee35f5af243285294db9b7 = $(`&lt;div id=&quot;html_51b15abd37ee35f5af243285294db9b7&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Private-cozy Brooklyn Apt. Room&lt;/div&gt;`)[0];
                popup_23464cf3b9a04e73d54cba590c6043d9.setContent(html_51b15abd37ee35f5af243285294db9b7);
            
        

        marker_c9be9a9bbbe7fa036f9cb8a8deb21d29.bindPopup(popup_23464cf3b9a04e73d54cba590c6043d9)
        ;

        
    
    
            var marker_afb4a17a38fc36dc5e85ae917121713b = L.marker(
                [40.65314, -73.95304],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_f6fe707c44d9acfcad97ad4d89ab73b3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0005f2dee4190e164bfe6cbebea4a089 = $(`&lt;div id=&quot;html_0005f2dee4190e164bfe6cbebea4a089&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Queen Room in Prospect Lefferts Gardens Flatbush&lt;/div&gt;`)[0];
                popup_f6fe707c44d9acfcad97ad4d89ab73b3.setContent(html_0005f2dee4190e164bfe6cbebea4a089);
            
        

        marker_afb4a17a38fc36dc5e85ae917121713b.bindPopup(popup_f6fe707c44d9acfcad97ad4d89ab73b3)
        ;

        
    
    
            var marker_0a2020e4a13377ad36968ecb7efe9395 = L.marker(
                [40.70822, -73.94825],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_e70398f9e5236059fa6474796ab17746 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_81c1c302182b2b5cd4924e379088cc6e = $(`&lt;div id=&quot;html_81c1c302182b2b5cd4924e379088cc6e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Crystal Mediation Sanctuary Prime Williamsburg BK&lt;/div&gt;`)[0];
                popup_e70398f9e5236059fa6474796ab17746.setContent(html_81c1c302182b2b5cd4924e379088cc6e);
            
        

        marker_0a2020e4a13377ad36968ecb7efe9395.bindPopup(popup_e70398f9e5236059fa6474796ab17746)
        ;

        
    
    
            var marker_9d3aae899dacd261ec40ee66aa04b3bb = L.marker(
                [40.64005, -73.90916],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_5c734107d0732128d7f2f1cb25f9fff7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_49d972784b9decda8de24da7cadff83d = $(`&lt;div id=&quot;html_49d972784b9decda8de24da7cadff83d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Private Budget Room For Awesome Guests. #1&lt;/div&gt;`)[0];
                popup_5c734107d0732128d7f2f1cb25f9fff7.setContent(html_49d972784b9decda8de24da7cadff83d);
            
        

        marker_9d3aae899dacd261ec40ee66aa04b3bb.bindPopup(popup_5c734107d0732128d7f2f1cb25f9fff7)
        ;

        
    
    
            var marker_9ea334ee9b3da3cd3af68b5a9d060100 = L.marker(
                [40.64189, -73.96066],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_116056ef2ef8fa41c22afe8ef2d72772 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b632e463d0cc47f0dc9792723be3c655 = $(`&lt;div id=&quot;html_b632e463d0cc47f0dc9792723be3c655&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Spacious Living in Ditmas Park&lt;/div&gt;`)[0];
                popup_116056ef2ef8fa41c22afe8ef2d72772.setContent(html_b632e463d0cc47f0dc9792723be3c655);
            
        

        marker_9ea334ee9b3da3cd3af68b5a9d060100.bindPopup(popup_116056ef2ef8fa41c22afe8ef2d72772)
        ;

        
    
    
            var marker_fa688c7935d7de58011fbceb9b150d3b = L.marker(
                [40.69652, -73.92351],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_ea37d359c6ad7cf0ff5634394632a3fc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9a01a540b440f1a20c9c21be940383a2 = $(`&lt;div id=&quot;html_9a01a540b440f1a20c9c21be940383a2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Backpackers Dream for 1 at The Funky Loft&lt;/div&gt;`)[0];
                popup_ea37d359c6ad7cf0ff5634394632a3fc.setContent(html_9a01a540b440f1a20c9c21be940383a2);
            
        

        marker_fa688c7935d7de58011fbceb9b150d3b.bindPopup(popup_ea37d359c6ad7cf0ff5634394632a3fc)
        ;

        
    
    
            var marker_a5cf3fd2badb7a97c2b125899e7b2aef = L.marker(
                [40.68543, -73.95014],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_a8221b6b9a420fadae8d2fb2ab9c4f38 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3008cf759dd8d1fcf11588891ad23a23 = $(`&lt;div id=&quot;html_3008cf759dd8d1fcf11588891ad23a23&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;**Cozy Private Room(B)&lt;/div&gt;`)[0];
                popup_a8221b6b9a420fadae8d2fb2ab9c4f38.setContent(html_3008cf759dd8d1fcf11588891ad23a23);
            
        

        marker_a5cf3fd2badb7a97c2b125899e7b2aef.bindPopup(popup_a8221b6b9a420fadae8d2fb2ab9c4f38)
        ;

        
    
    
            var marker_179cd9ba189ae9540ed98840dcdcc819 = L.marker(
                [40.68756, -73.91326],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_a721a6374132bf2f8acbc4d15acba40c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2c3b771c1a9e31fe2e9675c2d8782ad6 = $(`&lt;div id=&quot;html_2c3b771c1a9e31fe2e9675c2d8782ad6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Bushwick Cozy Room&lt;/div&gt;`)[0];
                popup_a721a6374132bf2f8acbc4d15acba40c.setContent(html_2c3b771c1a9e31fe2e9675c2d8782ad6);
            
        

        marker_179cd9ba189ae9540ed98840dcdcc819.bindPopup(popup_a721a6374132bf2f8acbc4d15acba40c)
        ;

        
    
    
            var marker_0052cd59e671adb8f947fbe3100209ee = L.marker(
                [40.62065, -74.02929],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_e8f0d3af56822563ea12588ec48a89cc = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_223d67ebc83e753753cb3f28fed4b96e = $(`&lt;div id=&quot;html_223d67ebc83e753753cb3f28fed4b96e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Verrazano bridge garden house&lt;/div&gt;`)[0];
                popup_e8f0d3af56822563ea12588ec48a89cc.setContent(html_223d67ebc83e753753cb3f28fed4b96e);
            
        

        marker_0052cd59e671adb8f947fbe3100209ee.bindPopup(popup_e8f0d3af56822563ea12588ec48a89cc)
        ;

        
    
    
            var marker_4f5c39706f3b3b48de532837af2d5526 = L.marker(
                [40.64458, -73.90285],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_dbf1ee6a7d4adb86f5dc87437fb3bcde = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8513a2a2a258d7b0b3bdf9d5c9f78ec9 = $(`&lt;div id=&quot;html_8513a2a2a258d7b0b3bdf9d5c9f78ec9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Brooklyn Cave in the Neighb&lt;/div&gt;`)[0];
                popup_dbf1ee6a7d4adb86f5dc87437fb3bcde.setContent(html_8513a2a2a258d7b0b3bdf9d5c9f78ec9);
            
        

        marker_4f5c39706f3b3b48de532837af2d5526.bindPopup(popup_dbf1ee6a7d4adb86f5dc87437fb3bcde)
        ;

        
    
    
            var marker_410e0d7e2135acbd0c61509ca5954b86 = L.marker(
                [40.71947, -73.95958],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_58178e06642b30e712057508d160a04c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_82165c8e99c66c59758b6c66a0c6b787 = $(`&lt;div id=&quot;html_82165c8e99c66c59758b6c66a0c6b787&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Lovely Private Room in the Heart of Williamsburg&lt;/div&gt;`)[0];
                popup_58178e06642b30e712057508d160a04c.setContent(html_82165c8e99c66c59758b6c66a0c6b787);
            
        

        marker_410e0d7e2135acbd0c61509ca5954b86.bindPopup(popup_58178e06642b30e712057508d160a04c)
        ;

        
    
    
            var marker_efaf95844b9f3e855098c5483198b906 = L.marker(
                [40.69757, -73.92611],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_c47c19ba969c65ca99992c7157ef33b0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_defab7f683b1dd47bda6f55f3a9a5850 = $(`&lt;div id=&quot;html_defab7f683b1dd47bda6f55f3a9a5850&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Spacious Bushwick Room w/ Window and Central Air&lt;/div&gt;`)[0];
                popup_c47c19ba969c65ca99992c7157ef33b0.setContent(html_defab7f683b1dd47bda6f55f3a9a5850);
            
        

        marker_efaf95844b9f3e855098c5483198b906.bindPopup(popup_c47c19ba969c65ca99992c7157ef33b0)
        ;

        
    
    
            var marker_f6a60eea54bfc54b708846dba5de20ea = L.marker(
                [40.76523, -73.98157],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_cae5190c85fb65a0fb4ccf0de149cf9f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_eb0a629d9c7cb86624128038dd3c78d2 = $(`&lt;div id=&quot;html_eb0a629d9c7cb86624128038dd3c78d2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;★COLUMBUS CIRCLE★FULL FLOOR LOFT~5 Beds@BROADWAY&lt;/div&gt;`)[0];
                popup_cae5190c85fb65a0fb4ccf0de149cf9f.setContent(html_eb0a629d9c7cb86624128038dd3c78d2);
            
        

        marker_f6a60eea54bfc54b708846dba5de20ea.bindPopup(popup_cae5190c85fb65a0fb4ccf0de149cf9f)
        ;

        
    
    
            var marker_f3722f4f4e14109e42d92cc9ae91d30e = L.marker(
                [40.85394, -73.92972],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_66b7ef8bf506f1e6bc3849bcb3af978e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0bf29389fb9cad662c10a12decf720af = $(`&lt;div id=&quot;html_0bf29389fb9cad662c10a12decf720af&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cozy stylish studio&lt;/div&gt;`)[0];
                popup_66b7ef8bf506f1e6bc3849bcb3af978e.setContent(html_0bf29389fb9cad662c10a12decf720af);
            
        

        marker_f3722f4f4e14109e42d92cc9ae91d30e.bindPopup(popup_66b7ef8bf506f1e6bc3849bcb3af978e)
        ;

        
    
    
            var marker_a6f292e0e871f39be5a0b3cca52cb6e7 = L.marker(
                [40.77546, -73.94897],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_747bbf97f7df1055421fe7f4ce7df332 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_82c53da0c726cb4d41f350ee4494e337 = $(`&lt;div id=&quot;html_82c53da0c726cb4d41f350ee4494e337&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Luxury Private room in Upper East Side&lt;/div&gt;`)[0];
                popup_747bbf97f7df1055421fe7f4ce7df332.setContent(html_82c53da0c726cb4d41f350ee4494e337);
            
        

        marker_a6f292e0e871f39be5a0b3cca52cb6e7.bindPopup(popup_747bbf97f7df1055421fe7f4ce7df332)
        ;

        
    
    
            var marker_014bdb7d98d33f77f8cdfd155b1bbd32 = L.marker(
                [40.72469, -73.99111],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_bf22e84bb14ff7132089fa33c8a0e6ea = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_718ed2ae9217a68c228c29637aea2339 = $(`&lt;div id=&quot;html_718ed2ae9217a68c228c29637aea2339&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Bright Airy 1 Bedroom Studio in Prime Downtown NYC&lt;/div&gt;`)[0];
                popup_bf22e84bb14ff7132089fa33c8a0e6ea.setContent(html_718ed2ae9217a68c228c29637aea2339);
            
        

        marker_014bdb7d98d33f77f8cdfd155b1bbd32.bindPopup(popup_bf22e84bb14ff7132089fa33c8a0e6ea)
        ;

        
    
    
            var marker_0f1b5d4ab657c550d2ef008a735c1978 = L.marker(
                [40.7984, -73.94267],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_449cf8e0c50fdfc88c4aff88d5b15071 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1b6886762d5dbb329c3564c1bd9bbd62 = $(`&lt;div id=&quot;html_1b6886762d5dbb329c3564c1bd9bbd62&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Spacious Apartment Near Central Park (Manhattan)&lt;/div&gt;`)[0];
                popup_449cf8e0c50fdfc88c4aff88d5b15071.setContent(html_1b6886762d5dbb329c3564c1bd9bbd62);
            
        

        marker_0f1b5d4ab657c550d2ef008a735c1978.bindPopup(popup_449cf8e0c50fdfc88c4aff88d5b15071)
        ;

        
    
    
            var marker_eebcea7be09c948a5cbb7b5d04dfe5f8 = L.marker(
                [40.74915, -73.9761],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_ccd8f59928ef1b5000ac994a58318fb0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ec58fca311221fefb4eda68e547e32b1 = $(`&lt;div id=&quot;html_ec58fca311221fefb4eda68e547e32b1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;~Stunning 3BR home~Legal Airbnb~Central Location~&lt;/div&gt;`)[0];
                popup_ccd8f59928ef1b5000ac994a58318fb0.setContent(html_ec58fca311221fefb4eda68e547e32b1);
            
        

        marker_eebcea7be09c948a5cbb7b5d04dfe5f8.bindPopup(popup_ccd8f59928ef1b5000ac994a58318fb0)
        ;

        
    
    
            var marker_12e2ab56bcf11c89c2cd1a56a1f8ca9e = L.marker(
                [40.8054, -73.95189],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_c1bd9273ab2295eb2d82bd6c0358cbe1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_47acc7c75fab85d3cf9a6a737687fb75 = $(`&lt;div id=&quot;html_47acc7c75fab85d3cf9a6a737687fb75&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cozy Private Room in West Harlem!&lt;/div&gt;`)[0];
                popup_c1bd9273ab2295eb2d82bd6c0358cbe1.setContent(html_47acc7c75fab85d3cf9a6a737687fb75);
            
        

        marker_12e2ab56bcf11c89c2cd1a56a1f8ca9e.bindPopup(popup_c1bd9273ab2295eb2d82bd6c0358cbe1)
        ;

        
    
    
            var marker_07bcbfbe8ac16958804689c125e38b82 = L.marker(
                [40.72605, -74.00072],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_8a98f1686a801959ca6d1cf00c180e98 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_e21155ecf96c935a017fff3d3be344d3 = $(`&lt;div id=&quot;html_e21155ecf96c935a017fff3d3be344d3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Bright Soho 2 Bedroom Apartment&lt;/div&gt;`)[0];
                popup_8a98f1686a801959ca6d1cf00c180e98.setContent(html_e21155ecf96c935a017fff3d3be344d3);
            
        

        marker_07bcbfbe8ac16958804689c125e38b82.bindPopup(popup_8a98f1686a801959ca6d1cf00c180e98)
        ;

        
    
    
            var marker_ce4d107627cfe179fae3e1d80e20f3e7 = L.marker(
                [40.74898, -73.97534],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_5769d00194b56e7ef69c5d5e434983ed = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_44ed5f3358d301dc7bf73d99da32d1ed = $(`&lt;div id=&quot;html_44ed5f3358d301dc7bf73d99da32d1ed&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Sonder | The Nash |  Classic 1BR + Fitness Center&lt;/div&gt;`)[0];
                popup_5769d00194b56e7ef69c5d5e434983ed.setContent(html_44ed5f3358d301dc7bf73d99da32d1ed);
            
        

        marker_ce4d107627cfe179fae3e1d80e20f3e7.bindPopup(popup_5769d00194b56e7ef69c5d5e434983ed)
        ;

        
    
    
            var marker_176f1388e0924c8e1d6073e0494b04fa = L.marker(
                [40.73938, -73.99855],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_76397b25f54f044599ef470f17ed4db5 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_965ef3e5b58d87d71f783533d76d9a8a = $(`&lt;div id=&quot;html_965ef3e5b58d87d71f783533d76d9a8a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Private room in a 2 Bedroom apartment - Chelsea&lt;/div&gt;`)[0];
                popup_76397b25f54f044599ef470f17ed4db5.setContent(html_965ef3e5b58d87d71f783533d76d9a8a);
            
        

        marker_176f1388e0924c8e1d6073e0494b04fa.bindPopup(popup_76397b25f54f044599ef470f17ed4db5)
        ;

        
    
    
            var marker_6d347928579e82667ce37f8f18fc26b7 = L.marker(
                [40.77072, -73.95424],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_842a581c03f60096b5a48970ef0205b1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_66d250504bf91ad060291a1da131c863 = $(`&lt;div id=&quot;html_66d250504bf91ad060291a1da131c863&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;#1 Private room near CENTRAL PARK!&lt;/div&gt;`)[0];
                popup_842a581c03f60096b5a48970ef0205b1.setContent(html_66d250504bf91ad060291a1da131c863);
            
        

        marker_6d347928579e82667ce37f8f18fc26b7.bindPopup(popup_842a581c03f60096b5a48970ef0205b1)
        ;

        
    
    
            var marker_c17c08369c71d48121a35fd2250c34aa = L.marker(
                [40.75286, -73.99693],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_5624bcd327819ee7daa6a67dc51f7a62 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2c229ae03d79d1ce8c75ff7129d235c2 = $(`&lt;div id=&quot;html_2c229ae03d79d1ce8c75ff7129d235c2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;1 Bedroom/1 Bath Apt in Hudson Yards/Midtown West&lt;/div&gt;`)[0];
                popup_5624bcd327819ee7daa6a67dc51f7a62.setContent(html_2c229ae03d79d1ce8c75ff7129d235c2);
            
        

        marker_c17c08369c71d48121a35fd2250c34aa.bindPopup(popup_5624bcd327819ee7daa6a67dc51f7a62)
        ;

        
    
    
            var marker_92ea70971118166d1cba1a1deedab158 = L.marker(
                [40.85127, -73.92985],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_f875de36840efc054336e0be8e0cabd6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8e2ebcfc5d3cb85dd79a7813016fa51f = $(`&lt;div id=&quot;html_8e2ebcfc5d3cb85dd79a7813016fa51f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;15 minutes From Times Square!!&lt;/div&gt;`)[0];
                popup_f875de36840efc054336e0be8e0cabd6.setContent(html_8e2ebcfc5d3cb85dd79a7813016fa51f);
            
        

        marker_92ea70971118166d1cba1a1deedab158.bindPopup(popup_f875de36840efc054336e0be8e0cabd6)
        ;

        
    
    
            var marker_105c711bf4ad4cf0cb16046164a43304 = L.marker(
                [40.78689, -73.97314],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_5ada4156e46ce31fb010c1a90f89c776 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5ce51b39daa28313d69e319bcc553424 = $(`&lt;div id=&quot;html_5ce51b39daa28313d69e319bcc553424&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Large Garden Duplex on Park block&lt;/div&gt;`)[0];
                popup_5ada4156e46ce31fb010c1a90f89c776.setContent(html_5ce51b39daa28313d69e319bcc553424);
            
        

        marker_105c711bf4ad4cf0cb16046164a43304.bindPopup(popup_5ada4156e46ce31fb010c1a90f89c776)
        ;

        
    
    
            var marker_7ac18e4bb5661741658f595d07c58541 = L.marker(
                [40.78409, -73.97886],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_13f83d7baa8cd475ab88a5e33d45fd47 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6ce0af2f9b6f1fa66243725810aed3fb = $(`&lt;div id=&quot;html_6ce0af2f9b6f1fa66243725810aed3fb&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cozy Room in the heart of UWS&lt;/div&gt;`)[0];
                popup_13f83d7baa8cd475ab88a5e33d45fd47.setContent(html_6ce0af2f9b6f1fa66243725810aed3fb);
            
        

        marker_7ac18e4bb5661741658f595d07c58541.bindPopup(popup_13f83d7baa8cd475ab88a5e33d45fd47)
        ;

        
    
    
            var marker_32fdc4688da7fa6c9a404b7284a8f310 = L.marker(
                [40.76324, -73.77111],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_ea6d489319082477603ba1af5a153f69 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_40f54ca901f15db6f741e55e4210eb75 = $(`&lt;div id=&quot;html_40f54ca901f15db6f741e55e4210eb75&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;2 Bedroom by Bayside Train 21 mins from Manhattan&lt;/div&gt;`)[0];
                popup_ea6d489319082477603ba1af5a153f69.setContent(html_40f54ca901f15db6f741e55e4210eb75);
            
        

        marker_32fdc4688da7fa6c9a404b7284a8f310.bindPopup(popup_ea6d489319082477603ba1af5a153f69)
        ;

        
    
    
            var marker_ea3894abd68f819faa57d78980f3e377 = L.marker(
                [40.77253, -73.82467],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_8d01fd097a7d6049ea1e516b7072a3b4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d80ed995ba5df91fa7e5095151cf6aa0 = $(`&lt;div id=&quot;html_d80ed995ba5df91fa7e5095151cf6aa0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;(AC) 4 ppl - 2 Rooms 1 private and 1 sharing bath&lt;/div&gt;`)[0];
                popup_8d01fd097a7d6049ea1e516b7072a3b4.setContent(html_d80ed995ba5df91fa7e5095151cf6aa0);
            
        

        marker_ea3894abd68f819faa57d78980f3e377.bindPopup(popup_8d01fd097a7d6049ea1e516b7072a3b4)
        ;

        
    
    
            var marker_453b227b1ec508d66a1b2088a04110a6 = L.marker(
                [40.701, -73.90607],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_4ec8f9ee5607a2633c25dbba35950f45 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2f719e67830fa0ed9427d9eafa48d74b = $(`&lt;div id=&quot;html_2f719e67830fa0ed9427d9eafa48d74b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Gorgeous One Bedroom in Ridgewood, Queens!&lt;/div&gt;`)[0];
                popup_4ec8f9ee5607a2633c25dbba35950f45.setContent(html_2f719e67830fa0ed9427d9eafa48d74b);
            
        

        marker_453b227b1ec508d66a1b2088a04110a6.bindPopup(popup_4ec8f9ee5607a2633c25dbba35950f45)
        ;

        
    
    
            var marker_2e88ca35281a092ab14dde8476d47145 = L.marker(
                [40.7396, -73.88119],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_e4abdfa7478c77114b741cc455c2fd61 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_449ca7045e6c9b48e0a401652d5a63e3 = $(`&lt;div id=&quot;html_449ca7045e6c9b48e0a401652d5a63e3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Queens Two BR house 20Min to Manhattan&lt;/div&gt;`)[0];
                popup_e4abdfa7478c77114b741cc455c2fd61.setContent(html_449ca7045e6c9b48e0a401652d5a63e3);
            
        

        marker_2e88ca35281a092ab14dde8476d47145.bindPopup(popup_e4abdfa7478c77114b741cc455c2fd61)
        ;

        
    
    
            var marker_1fcd5780cb874f954d987fc6597f9ad2 = L.marker(
                [40.76024, -73.94228],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_1905a328de3e3b98f56117ee86c5f67f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d4494a5d3c9ec82b84d4aebeae449450 = $(`&lt;div id=&quot;html_d4494a5d3c9ec82b84d4aebeae449450&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Shared Apartment One stop from Manhattan in LIC.&lt;/div&gt;`)[0];
                popup_1905a328de3e3b98f56117ee86c5f67f.setContent(html_d4494a5d3c9ec82b84d4aebeae449450);
            
        

        marker_1fcd5780cb874f954d987fc6597f9ad2.bindPopup(popup_1905a328de3e3b98f56117ee86c5f67f)
        ;

        
    
    
            var marker_75ac55ae24968a3d88771157d0917eab = L.marker(
                [40.70061, -73.84107],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_5330b4d5be65de3960193d19613abac2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a3730faf5acf6928190d01655442503c = $(`&lt;div id=&quot;html_a3730faf5acf6928190d01655442503c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Large 2 Floor Apt 2 Bdrm Sleeps 8 &lt;/div&gt;`)[0];
                popup_5330b4d5be65de3960193d19613abac2.setContent(html_a3730faf5acf6928190d01655442503c);
            
        

        marker_75ac55ae24968a3d88771157d0917eab.bindPopup(popup_5330b4d5be65de3960193d19613abac2)
        ;

        
    
    
            var marker_4e9389d3f5117fb3a6e1ca92c99dbe7e = L.marker(
                [40.70756, -73.914],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_31c1a92617b28a99ac0521d9a0d1ad13 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1abffde8c1fd72bd25c6bc22036d08d8 = $(`&lt;div id=&quot;html_1abffde8c1fd72bd25c6bc22036d08d8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cosy private bedroom and bathroom in a 3 bedroom&lt;/div&gt;`)[0];
                popup_31c1a92617b28a99ac0521d9a0d1ad13.setContent(html_1abffde8c1fd72bd25c6bc22036d08d8);
            
        

        marker_4e9389d3f5117fb3a6e1ca92c99dbe7e.bindPopup(popup_31c1a92617b28a99ac0521d9a0d1ad13)
        ;

        
    
    
            var marker_9ea7daa973751355b831272839219005 = L.marker(
                [40.67072, -73.79534],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_4a995225bbc9ee5db21e7aa70ebabc3d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2cbb10b974e706e0b29d953a8fd8bc08 = $(`&lt;div id=&quot;html_2cbb10b974e706e0b29d953a8fd8bc08&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Brand new huge 3 bedroom apartment.&lt;/div&gt;`)[0];
                popup_4a995225bbc9ee5db21e7aa70ebabc3d.setContent(html_2cbb10b974e706e0b29d953a8fd8bc08);
            
        

        marker_9ea7daa973751355b831272839219005.bindPopup(popup_4a995225bbc9ee5db21e7aa70ebabc3d)
        ;

        
    
    
            var marker_8b3360644ae84cbe2ff06c2c2187ea06 = L.marker(
                [40.7613, -73.9153],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_4c3fd8a869323d3da239cba9075d75d9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_eea5a8d597de3264b8c93aceef18ad58 = $(`&lt;div id=&quot;html_eea5a8d597de3264b8c93aceef18ad58&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Beautiful family apt in Astoria&lt;/div&gt;`)[0];
                popup_4c3fd8a869323d3da239cba9075d75d9.setContent(html_eea5a8d597de3264b8c93aceef18ad58);
            
        

        marker_8b3360644ae84cbe2ff06c2c2187ea06.bindPopup(popup_4c3fd8a869323d3da239cba9075d75d9)
        ;

        
    
    
            var marker_c2b647e51dd88e27f34e2144fce71a11 = L.marker(
                [40.7645, -73.9238],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_a88d6bdcd797d9934710e70f28c93411 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6d4d7336a0dd631143d6d0e0e0575d89 = $(`&lt;div id=&quot;html_6d4d7336a0dd631143d6d0e0e0575d89&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;&quot;Home sweet Home :) &quot;&lt;/div&gt;`)[0];
                popup_a88d6bdcd797d9934710e70f28c93411.setContent(html_6d4d7336a0dd631143d6d0e0e0575d89);
            
        

        marker_c2b647e51dd88e27f34e2144fce71a11.bindPopup(popup_a88d6bdcd797d9934710e70f28c93411)
        ;

        
    
    
            var marker_5d856765f8e90046f93b39e45077b272 = L.marker(
                [40.69203, -73.83012],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_9baf55312f100463101e3525cb4a0e90 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6c51f2b612a900dc88ce4f64bf770f6b = $(`&lt;div id=&quot;html_6c51f2b612a900dc88ce4f64bf770f6b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Welcoming, Cozy 2 bedroom Home.&lt;/div&gt;`)[0];
                popup_9baf55312f100463101e3525cb4a0e90.setContent(html_6c51f2b612a900dc88ce4f64bf770f6b);
            
        

        marker_5d856765f8e90046f93b39e45077b272.bindPopup(popup_9baf55312f100463101e3525cb4a0e90)
        ;

        
    
    
            var marker_6a4e25f76a40c41d04680693fa1c943a = L.marker(
                [40.59065, -73.79563],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_678d8e233ca67b92cdb89d222a95917f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_ec0683313f89d7db69bbafb6e6ce644c = $(`&lt;div id=&quot;html_ec0683313f89d7db69bbafb6e6ce644c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;New, elegant private apartment for 2 near JFK&lt;/div&gt;`)[0];
                popup_678d8e233ca67b92cdb89d222a95917f.setContent(html_ec0683313f89d7db69bbafb6e6ce644c);
            
        

        marker_6a4e25f76a40c41d04680693fa1c943a.bindPopup(popup_678d8e233ca67b92cdb89d222a95917f)
        ;

        
    
    
            var marker_0e7b464cb60e9f5113c87351934637a7 = L.marker(
                [40.71429, -73.85088],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_e74afc4e99750b0511ceb9a24e8092e4 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_bd9c078a55ac6974ca57f2bc4c2f0b0b = $(`&lt;div id=&quot;html_bd9c078a55ac6974ca57f2bc4c2f0b0b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Safe upper-class area,20 min to Manhattan/Airports&lt;/div&gt;`)[0];
                popup_e74afc4e99750b0511ceb9a24e8092e4.setContent(html_bd9c078a55ac6974ca57f2bc4c2f0b0b);
            
        

        marker_0e7b464cb60e9f5113c87351934637a7.bindPopup(popup_e74afc4e99750b0511ceb9a24e8092e4)
        ;

        
    
    
            var marker_18ae7cb138e8d92e4d3fe844a13b9a30 = L.marker(
                [40.5879, -73.81269],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_b4196ee940645df1281e25216171fe10 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a2160ec48748f6195279d6820290ae9b = $(`&lt;div id=&quot;html_a2160ec48748f6195279d6820290ae9b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Older 1st Floor in Rockaway House-By Subway&amp;Beach&lt;/div&gt;`)[0];
                popup_b4196ee940645df1281e25216171fe10.setContent(html_a2160ec48748f6195279d6820290ae9b);
            
        

        marker_18ae7cb138e8d92e4d3fe844a13b9a30.bindPopup(popup_b4196ee940645df1281e25216171fe10)
        ;

        
    
    
            var marker_6fe1fa9cd1ba3e92d31c0c757da39ba4 = L.marker(
                [40.74438, -73.89161],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_8924c40e668d3fc8f8676609c35ac4e9 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_897dd6251a61f60518e4bc6311cbd506 = $(`&lt;div id=&quot;html_897dd6251a61f60518e4bc6311cbd506&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Great Access! 2min frm station U can use 5 lines!!&lt;/div&gt;`)[0];
                popup_8924c40e668d3fc8f8676609c35ac4e9.setContent(html_897dd6251a61f60518e4bc6311cbd506);
            
        

        marker_6fe1fa9cd1ba3e92d31c0c757da39ba4.bindPopup(popup_8924c40e668d3fc8f8676609c35ac4e9)
        ;

        
    
    
            var marker_0a25e6261921beb377c666d7bdc17f16 = L.marker(
                [40.63144, -74.07913],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_f2311c5a52de046ae1a06fdd39ce3299 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_df4b9f8f35dcd9c22871f53f734fa6a6 = $(`&lt;div id=&quot;html_df4b9f8f35dcd9c22871f53f734fa6a6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Small room in Historical home on Staten Island&lt;/div&gt;`)[0];
                popup_f2311c5a52de046ae1a06fdd39ce3299.setContent(html_df4b9f8f35dcd9c22871f53f734fa6a6);
            
        

        marker_0a25e6261921beb377c666d7bdc17f16.bindPopup(popup_f2311c5a52de046ae1a06fdd39ce3299)
        ;

        
    
    
            var marker_c77584fdac5d7bc182201659df1e5aa6 = L.marker(
                [40.62967, -74.1285],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_4aa4537193607a6def8534d77a12dbd7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_dde698a30323e82021adba9465af4409 = $(`&lt;div id=&quot;html_dde698a30323e82021adba9465af4409&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;RELAX &amp; UNWIND - Classy Unique HOUSE for 9 People&lt;/div&gt;`)[0];
                popup_4aa4537193607a6def8534d77a12dbd7.setContent(html_dde698a30323e82021adba9465af4409);
            
        

        marker_c77584fdac5d7bc182201659df1e5aa6.bindPopup(popup_4aa4537193607a6def8534d77a12dbd7)
        ;

        
    
    
            var marker_cbe27ebc262acbf22e32aa3369e255c1 = L.marker(
                [40.59164, -74.08197],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_3a82e3ff217e4e35bf4364b49700a83e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4c148dbcdb5f7f2f9e1156b4635ddb56 = $(`&lt;div id=&quot;html_4c148dbcdb5f7f2f9e1156b4635ddb56&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;幸福小屋&lt;/div&gt;`)[0];
                popup_3a82e3ff217e4e35bf4364b49700a83e.setContent(html_4c148dbcdb5f7f2f9e1156b4635ddb56);
            
        

        marker_cbe27ebc262acbf22e32aa3369e255c1.bindPopup(popup_3a82e3ff217e4e35bf4364b49700a83e)
        ;

        
    
    
            var marker_37540cfadce62655471e5cb5f7f505a8 = L.marker(
                [40.59719, -74.08754],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_254ed5b5c1baf1503d7a4ccdd4a240b0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_b65f264dec1e6e4cdd667b3382a5e45f = $(`&lt;div id=&quot;html_b65f264dec1e6e4cdd667b3382a5e45f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Writers Paradise 3 NYC&lt;/div&gt;`)[0];
                popup_254ed5b5c1baf1503d7a4ccdd4a240b0.setContent(html_b65f264dec1e6e4cdd667b3382a5e45f);
            
        

        marker_37540cfadce62655471e5cb5f7f505a8.bindPopup(popup_254ed5b5c1baf1503d7a4ccdd4a240b0)
        ;

        
    
    
            var marker_2f355bc1b1b90012d06d2a94368af3fe = L.marker(
                [40.62879, -74.16062],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_020760e8ef96b2fb037848cebc7aa12c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7ffcf22f3acca805998fde9d61b6626b = $(`&lt;div id=&quot;html_7ffcf22f3acca805998fde9d61b6626b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;NEAR THE CITY THAT NEVER SLEEPS!&lt;/div&gt;`)[0];
                popup_020760e8ef96b2fb037848cebc7aa12c.setContent(html_7ffcf22f3acca805998fde9d61b6626b);
            
        

        marker_2f355bc1b1b90012d06d2a94368af3fe.bindPopup(popup_020760e8ef96b2fb037848cebc7aa12c)
        ;

        
    
    
            var marker_e5ccb3a9a2efff8c2a935b11b234cd5c = L.marker(
                [40.58508, -74.16162],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_38fb9a9850f53067caa1b5e772b196f3 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5a3146e13b78f2b734700f0f4655cd7c = $(`&lt;div id=&quot;html_5a3146e13b78f2b734700f0f4655cd7c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Studio apt direct access to Mantattan and Brooklyn&lt;/div&gt;`)[0];
                popup_38fb9a9850f53067caa1b5e772b196f3.setContent(html_5a3146e13b78f2b734700f0f4655cd7c);
            
        

        marker_e5ccb3a9a2efff8c2a935b11b234cd5c.bindPopup(popup_38fb9a9850f53067caa1b5e772b196f3)
        ;

        
    
    
            var marker_dca8a992c4877cd2b1f6c2c28e8053c0 = L.marker(
                [40.6339, -74.08513],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_3a3aeab66d2c1a8640c92577c0317a92 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5770a11b96b2acc107dc4223f1d4271d = $(`&lt;div id=&quot;html_5770a11b96b2acc107dc4223f1d4271d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Double Guestroom 30 mins to Downtown Manhattan&lt;/div&gt;`)[0];
                popup_3a3aeab66d2c1a8640c92577c0317a92.setContent(html_5770a11b96b2acc107dc4223f1d4271d);
            
        

        marker_dca8a992c4877cd2b1f6c2c28e8053c0.bindPopup(popup_3a3aeab66d2c1a8640c92577c0317a92)
        ;

        
    
    
            var marker_64c6bf140c68f224d94090cde36a5088 = L.marker(
                [40.60991, -74.11577],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_81a1dd1af5d0450254abb0ac3b989d7e = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_21d86371f84d38b22af10ec37eae1f4a = $(`&lt;div id=&quot;html_21d86371f84d38b22af10ec37eae1f4a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;1 room in private house - 15 mins to NYC &amp; Ferry&lt;/div&gt;`)[0];
                popup_81a1dd1af5d0450254abb0ac3b989d7e.setContent(html_21d86371f84d38b22af10ec37eae1f4a);
            
        

        marker_64c6bf140c68f224d94090cde36a5088.bindPopup(popup_81a1dd1af5d0450254abb0ac3b989d7e)
        ;

        
    
    
            var marker_df2f72f2b90a75c2102b854a434391ed = L.marker(
                [40.59757, -74.08434],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_7407c5e24eb523ed59ba5c7155973295 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c195f68da65355aa1c5472256fdd213b = $(`&lt;div id=&quot;html_c195f68da65355aa1c5472256fdd213b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Inexpensive Private Room with NYC / SIUH Access #1&lt;/div&gt;`)[0];
                popup_7407c5e24eb523ed59ba5c7155973295.setContent(html_c195f68da65355aa1c5472256fdd213b);
            
        

        marker_df2f72f2b90a75c2102b854a434391ed.bindPopup(popup_7407c5e24eb523ed59ba5c7155973295)
        ;

        
    
    
            var marker_b32d46affc6be6ece762637a771ab205 = L.marker(
                [40.6157, -74.0985],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_ce90e951723d1898c89117e68c4c9890 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4aea92435b617a98541eb5240bd5cc15 = $(`&lt;div id=&quot;html_4aea92435b617a98541eb5240bd5cc15&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Large Room In Prestigious Neighborhood Of SI&lt;/div&gt;`)[0];
                popup_ce90e951723d1898c89117e68c4c9890.setContent(html_4aea92435b617a98541eb5240bd5cc15);
            
        

        marker_b32d46affc6be6ece762637a771ab205.bindPopup(popup_ce90e951723d1898c89117e68c4c9890)
        ;

        
    
    
            var marker_cae98122478e1b1d3243e4e81c15d33b = L.marker(
                [40.59385, -74.08825],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_c8f346fa2c4befaf63fced501f61b5c1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f381f4812fccdf21187532dd1f813a00 = $(`&lt;div id=&quot;html_f381f4812fccdf21187532dd1f813a00&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cozy Space w/ Separate Entrance&lt;/div&gt;`)[0];
                popup_c8f346fa2c4befaf63fced501f61b5c1.setContent(html_f381f4812fccdf21187532dd1f813a00);
            
        

        marker_cae98122478e1b1d3243e4e81c15d33b.bindPopup(popup_c8f346fa2c4befaf63fced501f61b5c1)
        ;

        
    
    
            var marker_43dc245d5cd8b7058287954f419da8c0 = L.marker(
                [40.62375, -74.07373],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_95a6bc345034c1886bb038d834678d03 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fce033132102a08abedff9dad8c9464c = $(`&lt;div id=&quot;html_fce033132102a08abedff9dad8c9464c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;&quot;Off the Beaten Path&quot; NYC OASIS&lt;/div&gt;`)[0];
                popup_95a6bc345034c1886bb038d834678d03.setContent(html_fce033132102a08abedff9dad8c9464c);
            
        

        marker_43dc245d5cd8b7058287954f419da8c0.bindPopup(popup_95a6bc345034c1886bb038d834678d03)
        ;

        
    
    
            var marker_2d2bc825b30ca77d3d03c79816466a0d = L.marker(
                [40.63701, -74.07624],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_577d6204ae3578dc114860f650f91170 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_035dd775d3d9a72a6e8bd65e1d463c27 = $(`&lt;div id=&quot;html_035dd775d3d9a72a6e8bd65e1d463c27&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;3 bedroom 1200sq ft apt with exposed brick &amp; deck&lt;/div&gt;`)[0];
                popup_577d6204ae3578dc114860f650f91170.setContent(html_035dd775d3d9a72a6e8bd65e1d463c27);
            
        

        marker_2d2bc825b30ca77d3d03c79816466a0d.bindPopup(popup_577d6204ae3578dc114860f650f91170)
        ;

        
    
    
            var marker_8b4ec488ca87fc9b3105a80bd41aa280 = L.marker(
                [40.64497, -74.08456],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_4b817be4622cbad01ac5329b722fd313 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1e5a19a6763efdf1a28b8636276a69bd = $(`&lt;div id=&quot;html_1e5a19a6763efdf1a28b8636276a69bd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Affordable private room in a home in NYC&lt;/div&gt;`)[0];
                popup_4b817be4622cbad01ac5329b722fd313.setContent(html_1e5a19a6763efdf1a28b8636276a69bd);
            
        

        marker_8b4ec488ca87fc9b3105a80bd41aa280.bindPopup(popup_4b817be4622cbad01ac5329b722fd313)
        ;

        
    
    
            var marker_f578417cee9f0dda4f6df332fb95fa33 = L.marker(
                [40.61804, -74.0861],
                {}
            ).addTo(map_fc10810dd9eaea05d54e203417861955);
        
    
        var popup_564b3ba47569e84f94331eda9a2518cd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5b63ae8dbaaff63670e7f6e13a9dc986 = $(`&lt;div id=&quot;html_5b63ae8dbaaff63670e7f6e13a9dc986&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Beautiful Studio Apt&lt;/div&gt;`)[0];
                popup_564b3ba47569e84f94331eda9a2518cd.setContent(html_5b63ae8dbaaff63670e7f6e13a9dc986);
            
        

        marker_f578417cee9f0dda4f6df332fb95fa33.bindPopup(popup_564b3ba47569e84f94331eda9a2518cd)
        ;

        
    
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
</div>
<div class="section" id="difficulties">
<h3>Difficulties<a class="headerlink" href="#difficulties" title="Permalink to this headline">#</a></h3>
<p>Since there were a large amount of outlier in the ‘price’, ‘minimum_nights’, ‘number_of_reviews’, ‘calculated_host_listings_count’, ‘availability_365’ columns, these need to be removed. The check that the non-unique rows were kept, the ‘name’ column needed to be added. When generating the map originally, this made the Jupyter notebook freeze. This was resolved by choosing random values from each neighborhood.</p>
</div>
<div class="section" id="summary-discussion-and-findings">
<h3>Summary, Discussion, and Findings<a class="headerlink" href="#summary-discussion-and-findings" title="Permalink to this headline">#</a></h3>
<p>The price, the minimum number of nights, the number of reviews, and the calculated host listings were surpisingly similar in their lack of variance. There are a significant amount of outliers that will be dealt with before handlign the model. When it came to the availability throughout the year, there was a large spread around the median of 45 days on overage.</p>
</div>
<div class="section" id="conclusions">
<h3>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this headline">#</a></h3>
<p>This points to most AirBnB owners being uniform in amount of people reviewing them, the list hosting, and the minimum of nights that are set for these properties. When it comes to long-term stays, there is a larger range potentially due to the property’s specific idiosyncracies.</p>
</div>
</div>
<div class="section" id="results-and-analysis">
<h2>Results and Analysis<a class="headerlink" href="#results-and-analysis" title="Permalink to this headline">#</a></h2>
<div class="section" id="approach">
<h3>Approach<a class="headerlink" href="#approach" title="Permalink to this headline">#</a></h3>
<p>The data will be pruned and adjusted based on the EDA results. This means removing the outliers from the remaining columns. For the modeling, first, the PCA was reveiwed to see how much was attributed to variance. Next, clustering was done to see if there were any subgroups within the data set. Finally, a linear model was created to see if there was a correlation between what the model predicted the price to be and the actual price.</p>
</div>
<div class="section" id="eda-pruning">
<h3>EDA Pruning<a class="headerlink" href="#eda-pruning" title="Permalink to this headline">#</a></h3>
<p>Because the EDA showed a significant amount of outliers and the need for the removal of the availability column, the data will be pre-processed again before creating the models according to information from the histograms.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_unique</span> <span class="o">=</span> <span class="n">df_unique</span><span class="p">[</span><span class="n">df_unique</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">200</span><span class="p">]</span>
<span class="n">df_unique</span> <span class="o">=</span> <span class="n">df_unique</span><span class="p">[</span><span class="n">df_unique</span><span class="p">[</span><span class="s1">&#39;minimum_nights&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">13</span><span class="p">]</span>
<span class="n">df_unique</span> <span class="o">=</span> <span class="n">df_unique</span><span class="p">[</span><span class="n">df_unique</span><span class="p">[</span><span class="s1">&#39;number_of_reviews&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">df_unique</span> <span class="o">=</span> <span class="n">df_unique</span><span class="p">[</span><span class="n">df_unique</span><span class="p">[</span><span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">df_unique</span> <span class="o">=</span> <span class="n">df_unique</span><span class="p">[</span><span class="n">df_unique</span><span class="p">[</span><span class="s1">&#39;availability_365&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mf">36.5</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id2">
<h3>Histograms and Box Plots<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span>
<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;minimum_nights&#39;</span><span class="p">)</span>
<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;number_of_reviews&#39;</span><span class="p">)</span>
<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">)</span>
<span class="n">histBox</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="s1">&#39;availability_365&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/93f32257cf537701bda4a931f824714c9cbb5d3c92b920f82c92d02558075c0e.png" src="../../_images/93f32257cf537701bda4a931f824714c9cbb5d3c92b920f82c92d02558075c0e.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[  14  504 2016 2164 1770 1426 1191 1199  642 1114]

Histogram bin edges:
[  0.  20.  40.  60.  80. 100. 120. 140. 160. 180. 200.]

Box values: 
min      0.00
25%     60.00
50%     94.00
75%    137.25
max    200.00
Name: price, dtype: float64
</pre></div>
</div>
<img alt="../../_images/6ac81d0f85ddcceeea34387dccdb116a6887d89797a64aa952c374e509cca2f0.png" src="../../_images/6ac81d0f85ddcceeea34387dccdb116a6887d89797a64aa952c374e509cca2f0.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[6274 2106 1025 1099  282  920   31  223   10   70]

Histogram bin edges:
[ 1.   2.2  3.4  4.6  5.8  7.   8.2  9.4 10.6 11.8 13. ]

Box values: 
min     1.0
25%     1.0
50%     2.0
75%     4.0
max    13.0
Name: minimum_nights, dtype: float64
</pre></div>
</div>
<img alt="../../_images/2958d61c2370d7f40869ce7762d5c73afd816cb719f634d944b5b79bf3bd7ac2.png" src="../../_images/2958d61c2370d7f40869ce7762d5c73afd816cb719f634d944b5b79bf3bd7ac2.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[4068 2636    0 1781    0 1247  950    0  731  627]

Histogram bin edges:
[0.  0.6 1.2 1.8 2.4 3.  3.6 4.2 4.8 5.4 6. ]

Box values: 
min    0.0
25%    0.0
50%    1.0
75%    3.0
max    6.0
Name: number_of_reviews, dtype: float64
</pre></div>
</div>
<img alt="../../_images/9ea2d62b32b9908c0b708e3758d7b954c2ef171cd7a9883d2885db4ff7e5118a.png" src="../../_images/9ea2d62b32b9908c0b708e3758d7b954c2ef171cd7a9883d2885db4ff7e5118a.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[10492     0     0  1183     0     0   296     0     0    69]

Histogram bin edges:
[1.  1.3 1.6 1.9 2.2 2.5 2.8 3.1 3.4 3.7 4. ]

Box values: 
min    1.0
25%    1.0
50%    1.0
75%    1.0
max    4.0
Name: calculated_host_listings_count, dtype: float64
</pre></div>
</div>
<img alt="../../_images/45273cb52add838d76f37f9f56e0a712ff7e2d16b7f9f48f24f149abeb7e5e2d.png" src="../../_images/45273cb52add838d76f37f9f56e0a712ff7e2d16b7f9f48f24f149abeb7e5e2d.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Histogram values:
[10541   347   181   221   141   137   141    79   108   144]

Histogram bin edges:
[ 0.   3.6  7.2 10.8 14.4 18.  21.6 25.2 28.8 32.4 36. ]

Box values: 
min     0.0
25%     0.0
50%     0.0
75%     0.0
max    36.0
Name: availability_365, dtype: float64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="drop-columns">
<h3>Drop Columns<a class="headerlink" href="#drop-columns" title="Permalink to this headline">#</a></h3>
<p>After this the ‘availability_365’ and ‘calculated_host_listings_count’ were removed. After the filtering, both columns showed themselves to be constants with outliers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Drop specific columns</span>
<span class="n">df_mod</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;availability_365&#39;</span><span class="p">,</span> <span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df_mod</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>host_id</th>
      <th>host_name</th>
      <th>neighbourhood_group</th>
      <th>neighbourhood</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>room_type</th>
      <th>price</th>
      <th>minimum_nights</th>
      <th>number_of_reviews</th>
      <th>last_review</th>
      <th>reviews_per_month</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2539</td>
      <td>Clean &amp; quiet apt home by the park</td>
      <td>2787</td>
      <td>John</td>
      <td>Brooklyn</td>
      <td>Kensington</td>
      <td>40.64749</td>
      <td>-73.97237</td>
      <td>Private room</td>
      <td>149</td>
      <td>1</td>
      <td>9</td>
      <td>2018-10-19</td>
      <td>0.21</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2595</td>
      <td>Skylit Midtown Castle</td>
      <td>2845</td>
      <td>Jennifer</td>
      <td>Manhattan</td>
      <td>Midtown</td>
      <td>40.75362</td>
      <td>-73.98377</td>
      <td>Entire home/apt</td>
      <td>225</td>
      <td>1</td>
      <td>45</td>
      <td>2019-05-21</td>
      <td>0.38</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3647</td>
      <td>THE VILLAGE OF HARLEM....NEW YORK !</td>
      <td>4632</td>
      <td>Elisabeth</td>
      <td>Manhattan</td>
      <td>Harlem</td>
      <td>40.80902</td>
      <td>-73.94190</td>
      <td>Private room</td>
      <td>150</td>
      <td>3</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3831</td>
      <td>Cozy Entire Floor of Brownstone</td>
      <td>4869</td>
      <td>LisaRoxanne</td>
      <td>Brooklyn</td>
      <td>Clinton Hill</td>
      <td>40.68514</td>
      <td>-73.95976</td>
      <td>Entire home/apt</td>
      <td>89</td>
      <td>1</td>
      <td>270</td>
      <td>2019-07-05</td>
      <td>4.64</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5022</td>
      <td>Entire Apt: Spacious Studio/Loft by central park</td>
      <td>7192</td>
      <td>Laura</td>
      <td>Manhattan</td>
      <td>East Harlem</td>
      <td>40.79851</td>
      <td>-73.94399</td>
      <td>Entire home/apt</td>
      <td>80</td>
      <td>10</td>
      <td>9</td>
      <td>2018-11-19</td>
      <td>0.10</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="unsupervised-model-pca">
<h3>Unsupervised Model: PCA<a class="headerlink" href="#unsupervised-model-pca" title="Permalink to this headline">#</a></h3>
<p>First, a PCA was run to determine how many components account for the variance in this model. A one-hot encoder is used to transform the categorical features for concatenation. Next, a standard scalar processed the features which was then utilized in PCA with a set amount of compontents. The variance ratio was output with different components input into the function.</p>
</div>
<div class="section" id="results">
<h3>Results<a class="headerlink" href="#results" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function for PCA</span>
<span class="k">def</span> <span class="nf">RunPCA</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cat_feat</span><span class="p">,</span> <span class="n">num_feat</span><span class="p">,</span> <span class="n">n_comp</span><span class="p">):</span>
    <span class="c1"># One-hot Encoding</span>
    <span class="n">enc1</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">()</span>
    <span class="n">enc_feat</span> <span class="o">=</span> <span class="n">enc1</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">cat_feat</span><span class="p">])</span>

    <span class="c1"># Combine encoded categorical features and numerical features</span>
    <span class="n">proc_feat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">enc_feat</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">df</span><span class="p">[</span><span class="n">num_feat</span><span class="p">]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Scaler for Process Features</span>
    <span class="n">sca1</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
    <span class="n">scal_feat</span> <span class="o">=</span> <span class="n">sca1</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">proc_feat</span><span class="p">)</span>

    <span class="c1"># Get PCA</span>
    <span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span> <span class="o">=</span> <span class="n">n_comp</span><span class="p">)</span>
    <span class="n">pri_comp</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">scaled_features</span><span class="p">)</span>

    <span class="c1"># Data Frame for Principal Components</span>
    <span class="n">df_prin</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pri_comp</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">c1</span> <span class="k">for</span> <span class="n">c1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_comp</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
    
    <span class="c1"># Check Ratio</span>
    <span class="n">EVR</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Explained Variance Ratio:&quot;</span><span class="p">,</span> <span class="n">EVR</span><span class="p">)</span>

    <span class="c1"># Plot</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">([</span><span class="n">c1</span> <span class="k">for</span> <span class="n">c1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_comp</span><span class="o">+</span><span class="mi">1</span><span class="p">)],</span> <span class="n">EVR</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Principal Components&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Explained Variance Ratio (EVR)&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Explained Variance Ratio (EVR) by Principal Component&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">df_prin</span>

<span class="n">cat_feat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;neighbourhood&#39;</span><span class="p">,</span> <span class="s1">&#39;room_type&#39;</span><span class="p">]</span>
<span class="n">num_feat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;minimum_nights&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_reviews&#39;</span><span class="p">]</span>

<span class="n">df_prin</span> <span class="o">=</span> <span class="n">RunPCA</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="n">cat_feat</span><span class="p">,</span> <span class="n">num_feat</span><span class="p">,</span> <span class="n">n_comp</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">~</span>\<span class="n">AppData</span>\<span class="n">Local</span>\<span class="n">Temp</span>\<span class="n">ipykernel_17456</span>\<span class="mf">736602038.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">     </span><span class="mi">35</span> <span class="n">num_feat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;minimum_nights&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_reviews&#39;</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">36</span> 
<span class="ne">---&gt; </span><span class="mi">37</span> <span class="n">df_prin</span> <span class="o">=</span> <span class="n">RunPCA</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="n">cat_feat</span><span class="p">,</span> <span class="n">num_feat</span><span class="p">,</span> <span class="n">n_comp</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="nn">~\AppData\Local\Temp\ipykernel_17456\736602038.py</span> in <span class="ni">RunPCA</span><span class="nt">(df, cat_feat, num_feat, n_comp)</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span>     <span class="c1"># Get PCA</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span>     <span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span> <span class="o">=</span> <span class="n">n_comp</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">16</span>     <span class="n">pri_comp</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">scaled_features</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span> 
<span class="g g-Whitespace">     </span><span class="mi">18</span>     <span class="c1"># Data Frame for Principal Components</span>

<span class="ne">NameError</span>: name &#39;scaled_features&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="time-complexity">
<h3>Time Complexity<a class="headerlink" href="#time-complexity" title="Permalink to this headline">#</a></h3>
<p>The time complexity of significant steps within this function is summarized as follows:</p>
<ol class="arabic simple">
<li><p>One-hot Encoding: O(CM) where C is categories and M is features.</p></li>
<li><p>Standard Scalar: O(NM) where N is the number of numerical values.</p></li>
<li><p>PCA Model: O((C+N)*M)</p></li>
<li><p>Data Frame Creation: O(NC) which is the numerical values times the categories.</p></li>
<li><p>Variance Ratio: O(P) where P is the principal components returned.</p></li>
</ol>
</div>
<div class="section" id="unsupervised-model-k-means-clustering">
<h3>Unsupervised Model: K-Means Clustering<a class="headerlink" href="#unsupervised-model-k-means-clustering" title="Permalink to this headline">#</a></h3>
<p>The following uses K means clustering to determine the groups used for the data. This algorithm will generate clusters for the data and list the members of the group. A one-hot encoder and standard scalar were used to transform the numerical and categorical data. The number of iterations and the cluster value are used as hyperparameters for tuning.</p>
</div>
<div class="section" id="id3">
<h3>Results<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function for K-Means Cluster</span>
<span class="k">def</span> <span class="nf">kmeans_clust</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">num_feat</span><span class="p">,</span> <span class="n">cat_feat</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">max_it</span><span class="p">):</span>
    <span class="c1"># Apply Transformations</span>
    <span class="n">prep1</span> <span class="o">=</span> <span class="n">ColumnTransformer</span><span class="p">(</span>
        <span class="n">transformers</span><span class="o">=</span><span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;num&#39;</span><span class="p">,</span> <span class="n">StandardScaler</span><span class="p">(),</span> <span class="n">num_feat</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="n">OneHotEncoder</span><span class="p">(),</span> <span class="n">cat_feat</span><span class="p">)</span>
        <span class="p">])</span>

    <span class="c1"># Preprocess</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">num_feat</span> <span class="o">+</span> <span class="n">cat_feat</span><span class="p">]</span>
    <span class="n">X_proc</span> <span class="o">=</span> <span class="n">prep1</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

    <span class="c1"># Apply K-means Clustering</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="s1">&#39;k-means++&#39;</span><span class="p">,</span> <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="n">max_it</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_proc</span><span class="p">)</span>
    <span class="n">clustering_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

    <span class="c1"># Add Labels</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Cluster&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">labels_</span>

    <span class="c1"># Get Cluster Count</span>
    <span class="n">cluster_counts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Cluster&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Clusters:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cluster_counts</span><span class="p">)</span>

    <span class="c1"># Print timing information</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Per Cluster Time:&quot;</span><span class="p">,</span> <span class="n">clustering_time</span><span class="p">,</span> <span class="s2">&quot;seconds&quot;</span><span class="p">)</span>

<span class="c1"># Adjust Cluster Size Holding Iterations Constant</span>
<span class="k">for</span> <span class="n">kval</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">kmeans_clust</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="n">num_feat</span><span class="p">,</span> <span class="n">cat_feat</span><span class="p">,</span> \
                            <span class="n">kval</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># Adjust Iterations Holding Cluster Constant</span>
<span class="k">for</span> <span class="n">max_it</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">):</span>
    <span class="n">kmeans_clust</span><span class="p">(</span><span class="n">df_unique</span><span class="p">,</span> <span class="n">num_feat</span><span class="p">,</span> <span class="n">cat_feat</span><span class="p">,</span> \
                            <span class="mi">3</span><span class="p">,</span> <span class="n">max_it</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Clusters:
0    12040
Name: Cluster, dtype: int64
Per Cluster Time: 0.7911324501037598 seconds
Clusters:
1    6609
0    5431
Name: Cluster, dtype: int64
Per Cluster Time: 3.226331949234009 seconds
Clusters:
2    5361
1    4514
0    2165
Name: Cluster, dtype: int64
Per Cluster Time: 4.618690729141235 seconds
Clusters:
0    4351
1    3363
2    2438
3    1888
Name: Cluster, dtype: int64
Per Cluster Time: 5.22634744644165 seconds
Clusters:
2    5361
1    4521
0    2158
Name: Cluster, dtype: int64
Per Cluster Time: 3.862924098968506 seconds
Clusters:
2    5361
1    4514
0    2165
Name: Cluster, dtype: int64
Per Cluster Time: 4.5334312915802 seconds
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="k-means-clustering">
<h3>K Means Clustering<a class="headerlink" href="#k-means-clustering" title="Permalink to this headline">#</a></h3>
<p>The time complexity of significant steps within this function is summarized as follows:</p>
<ol class="arabic simple">
<li><p>One-hot Encoding: O(CM) where C is categories and F is features.</p></li>
<li><p>Standard Scalar: O(NM) where N is the number of numerical values and M is features.</p></li>
<li><p>Splitting Data: O(L) where L is the length of the input data.</p></li>
<li><p>K-Means Clustering: O(NKIM) where K is the cluster number and I is the iteration value.</p></li>
</ol>
</div>
<div class="section" id="supervised-method-linear-model">
<h3>Supervised Method: Linear Model<a class="headerlink" href="#supervised-method-linear-model" title="Permalink to this headline">#</a></h3>
<p>A linear model was created where the numerical and categorical features are run through a standard scalar and one-hot encoder to generate appropriate numeric values for processing. The data is split into test and training at a 80:20 split. The data is preprocessed, the timer starts, and a linear regression model is created. Using the rest of the data, the test data is used and the results are plotted.</p>
</div>
<div class="section" id="id4">
<h3>Results<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function for Linear Regression</span>
<span class="k">def</span> <span class="nf">lin_reg</span><span class="p">(</span><span class="n">num_feat</span><span class="p">,</span> <span class="n">cat_feat</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>

    <span class="c1"># Apply Tranformation</span>
    <span class="n">prep1</span> <span class="o">=</span> <span class="n">ColumnTransformer</span><span class="p">(</span>
        <span class="n">transformers</span><span class="o">=</span><span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;num&#39;</span><span class="p">,</span> <span class="n">StandardScaler</span><span class="p">(),</span> <span class="n">num_feat</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">handle_unknown</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">),</span> <span class="n">cat_feat</span><span class="p">)</span>
        <span class="p">])</span>

    <span class="c1"># Split Data</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

    <span class="c1"># Preprocess Data</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">X_train2</span> <span class="o">=</span> <span class="n">prep1</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
    <span class="n">X_test2</span> <span class="o">=</span> <span class="n">prep1</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">time_prep</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

    <span class="c1"># Create Model</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>

    <span class="c1"># Fit Model</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train2</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
    <span class="n">training_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

    <span class="c1"># Predict with Model</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test2</span><span class="p">)</span>
    <span class="n">pred_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

    <span class="c1"># Evaluate</span>
    <span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

    <span class="c1"># Print Out Info</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean Squared Error:&quot;</span><span class="p">,</span> <span class="n">mse</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;R-squared:&quot;</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Preprocessing Time:&quot;</span><span class="p">,</span> <span class="n">time_prep</span><span class="p">,</span> <span class="s2">&quot;seconds&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Training Time:&quot;</span><span class="p">,</span> <span class="n">training_time</span><span class="p">,</span> <span class="s2">&quot;seconds&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prediction Time:&quot;</span><span class="p">,</span> <span class="n">pred_time</span><span class="p">,</span> <span class="s2">&quot;seconds&quot;</span><span class="p">)</span>

    <span class="c1"># Plot</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Actual Price&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Predicted Price&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Actual vs. Predicted Prices&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Define Features and Variables</span>
<span class="n">num_feat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;minimum_nights&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_reviews&#39;</span><span class="p">]</span>
<span class="n">cat_feat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;neighbourhood&#39;</span><span class="p">,</span> <span class="s1">&#39;room_type&#39;</span><span class="p">]</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">df_unique</span><span class="p">[</span><span class="n">num_feat</span> <span class="o">+</span> <span class="n">cat_feat</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_unique</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span>

<span class="c1"># Call the function with the specified hyperparameter and data</span>
<span class="n">lin_reg</span><span class="p">(</span><span class="n">num_feat</span><span class="p">,</span> <span class="n">cat_feat</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean Squared Error: 1113.513077185032
R-squared: 0.4861501876154918
Preprocessing Time: 0.04028463363647461 seconds
Training Time: 0.046866655349731445 seconds
Prediction Time: 0.0 seconds
</pre></div>
</div>
<img alt="../../_images/408160660deeda48383b6eadee110bd1b8266a49e08fc267d6ddb95ffb6e3e4f.png" src="../../_images/408160660deeda48383b6eadee110bd1b8266a49e08fc267d6ddb95ffb6e3e4f.png" />
</div>
</div>
</div>
<div class="section" id="id5">
<h3>Time Complexity<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h3>
<p>The time complexity of significant steps within this function is summarized as follows:</p>
<ol class="arabic simple">
<li><p>One-hot Encoding: O(CM) where C is categories and F is features.</p></li>
<li><p>Standard Scalar: O(NM) where N is the number of numerical values and M is features.</p></li>
<li><p>Splitting Data: O(L) where L is the length of the input data.</p></li>
<li><p>Fitting the Model: O(NM)</p></li>
<li><p>Predictions: O(NM)</p></li>
<li><p>MSE: O(V) where V is the generated values.</p></li>
</ol>
</div>
<div class="section" id="optimization-methods">
<h3>Optimization Methods<a class="headerlink" href="#optimization-methods" title="Permalink to this headline">#</a></h3>
<p>For the models, these can be optimized in several ways:<br></p>
<p>PCA: Through the cross-validation output, the model can have hyperparameters tuned and adjusted for a better overall model for analysis. <br>
Clustering: Finding the optimal cluster count can eliminate the need for other iterations and save on time. <br>
Linear Regression: This can be further optimized through more preprocessing of the data and feature engineering. <br></p>
</div>
<div class="section" id="id6">
<h3>Summary<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h3>
<p>There are take away for each of the models. When it comes to the PCA model, the first component was responsible for the most amount of variance. Using multiple hyperparameters to test for different components showed that this was true. As for the clustering, the ideal amount of clusters is three. Any more has diminishing return in improvements and takes up unneeded time. The hyperparameter being adjusted was the number of iterations and the cluster value. The number of iterations can be decreased to ten as the model with the least amount of iterations strongly resembled the final model. The linear regression model fit was not ideal and had an R squared of approximately 0.5. This means that another type of regression should potentially be applied that takes into account the high variance in price. When it comes to PCA, there should be only one component since this could account for the highest amount of variance. When it comes to evaluation metrics, since the EVR values were low, this means that the data should be reduced further for higher values in dimensionality. For the linear regression model, the mean squared error and R squared value both showed that the fit wasn’t the best and that another model should be used. After viewing the plot, one can see this is due to the overlapping data points in the actual price. This could be reduced further.
In comparison, the clustering was the best method, the linear model the second best, and the PCA the worst. However, the PCA was only at fault due to the data it received and the linear regression model’s problems were inherent to the model itself. Thus, with proper input, the PCA might provide more fruitful results.</p>
</div>
<div class="section" id="pipeline-design">
<h3>Pipeline Design<a class="headerlink" href="#pipeline-design" title="Permalink to this headline">#</a></h3>
<p>Within a pipeline, the data will first be loaded into a data structure and undergo data preprocessing. Cleaning, handing of NAs, one-hot encoding for categories, and standardization will be used during this step. Next, the dimensionality reduction will be used in the PCA step to determine the number of components to keep depending on variance. This data will be put into a new data frame that will be used for clustering. A k-means clustering algorithm will be used (in this case it was K-means) and clustering labels will be applied post-processing. The clusters will be analyzed for specific features or anomalizes and supervised learning such as linear regression will be used in conjuncture for desired output from selected features.</p>
</div>
</div>
<div class="section" id="discussion-and-conclusion">
<h2>Discussion and Conclusion<a class="headerlink" href="#discussion-and-conclusion" title="Permalink to this headline">#</a></h2>
<div class="section" id="lessons-learned">
<h3>Lessons Learned<a class="headerlink" href="#lessons-learned" title="Permalink to this headline">#</a></h3>
<p>First, the linear regression model was expected to do a fair job of predicting the actual price. Before spending time creating this model, the variance should have been evaluated for the column itself. The PCA wasn’t able to generate high quality components because of the preprocessing, thus more time should be taken in doing that step.</p>
</div>
<div class="section" id="mistakes">
<h3>Mistakes<a class="headerlink" href="#mistakes" title="Permalink to this headline">#</a></h3>
<p>Initially, there was an error with generating the EDA model map. The notebook crashed and it was found out that the map tried plotting all of the points. The input data frame was adjusted and as a note for future users to be careful with the GIS code. Originally, the iterations selected for the K-means cluster was too large and thus small iterations are advised to avoid time sinks.</p>
</div>
<div class="section" id="future-improvement-opportunities">
<h3>Future Improvement Opportunities<a class="headerlink" href="#future-improvement-opportunities" title="Permalink to this headline">#</a></h3>
<p>The linear regression model didn’t fit well and thus another type, perhaps one with a logarithmic function, should be used instead. For clustering, there wasn’t much distribution between the clusters, as in one single cluster held most of the points, and thus subgroups are advised to be looked into for future projects. For the housing, the oneighborhoods should be separated and evaluated.</p>
</div>
</div>
<div class="section" id="apa-citations">
<h2>APA Citations<a class="headerlink" href="#apa-citations" title="Permalink to this headline">#</a></h2>
<p>[1] Dhir, R. (2023, April 6). Top 10 most expensive cities in the U.S. Investopedia. <br> <a class="reference external" href="https://www.investopedia.com/articles/personal-finance/080916/top-10-most-expensive-cities-us.asp">https://www.investopedia.com/articles/personal-finance/080916/top-10-most-expensive-cities-us.asp</a> <br>
[2] DGOMONOV. (2019, June 23). New York City Airbnb Open Data. Kaggle. <br> <a class="reference external" href="https://www.kaggle.com/datasets/dgomonov/new-york-city-airbnb-open-data">https://www.kaggle.com/datasets/dgomonov/new-york-city-airbnb-open-data</a></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Notebooks\Airbnb"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../DisasterTweets/DisasterTweets.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">NLP Disaster Tweets Kaggle Mini-Project</p>
      </div>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unsupervised-algorithms-in-machine-learning">Unsupervised Algorithms in Machine Learning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#topic">Topic</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data">Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-packages">Install Packages</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-libraries">Import Libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-files-from-csv">Read Files from CSV</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#space-and-size">Space and Size</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluate-the-data-types-and-column-names">Evaluate the data types and column names.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing">Data Preprocessing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#removal-of-features">Removal of Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#removing-null-values">Removing Null Values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#remove-duplicates">Remove Duplicates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Space and Size</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploratory-data-analysis-eda">Exploratory Data Analysis (EDA)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#purpose">Purpose</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#histograms-and-box-plots">Histograms and Box Plots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gis-visualization">GIS Visualization</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#difficulties">Difficulties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-discussion-and-findings">Summary, Discussion, and Findings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#results-and-analysis">Results and Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#approach">Approach</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-pruning">EDA Pruning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Histograms and Box Plots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#drop-columns">Drop Columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unsupervised-model-pca">Unsupervised Model: PCA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#results">Results</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-complexity">Time Complexity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unsupervised-model-k-means-clustering">Unsupervised Model: K-Means Clustering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Results</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#k-means-clustering">K Means Clustering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#supervised-method-linear-model">Supervised Method: Linear Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Results</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Time Complexity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optimization-methods">Optimization Methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pipeline-design">Pipeline Design</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion-and-conclusion">Discussion and Conclusion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-learned">Lessons Learned</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mistakes">Mistakes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#future-improvement-opportunities">Future Improvement Opportunities</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-citations">APA Citations</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Stacie Herda
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>